"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[947],{2947(e,t,a){a.r(t),a.d(t,{default:()=>A});var s=a(65043),n=a(79456),o=a(17718),l=a(85327),r=(a(5489),a(40735),a(12647)),i=a(45685),c=a(8738),d=a(6395),m=a(57556),u=a(73569),h=a(69634),p=a(49447),C=a(10981),g=a(83796),E=a(6006),f=(a(28574),a(70579));function v(e){let{onClick:t,selected:a,title:n}=e;const o=s.useContext(C.VisibilityContext);return(0,f.jsx)("div",{onClick:()=>t(o),className:"lessonChip ".concat(a?"selected":""),tabIndex:0,children:n})}const S=e=>{let{loadImages:t}=e;const a=(0,i.zy)(),[n,o]=(0,s.useState)([]),[l,r]=(0,s.useState)([]),[c,d]=(0,s.useState)([]),[m,u]=(0,s.useState)(null),[h,p]=(0,s.useState)(null),[S,A]=(0,s.useState)(null),[y,x]=(0,s.useState)(!1),[b,I]=(0,s.useState)(!1),{dragStart:R,dragStop:N,dragMove:O,dragging:j}=(0,E.A)(),L=(0,s.useCallback)(()=>{const e=a.pathname.toLowerCase().split("/").filter(e=>e);if(e.includes("academic")&&e.includes("class")){const t=e.indexOf("class");if(-1!==t&&e[t+1])return e[t+1].toUpperCase()}return null},[a.pathname]),T=(0,s.useCallback)(()=>{const e=a.pathname.toLowerCase().split("/").filter(e=>e);if(e.includes("academic")&&e.includes("class")){const t=e.indexOf("class");if(-1!==t&&e[t+2])return decodeURIComponent(e[t+2]).toUpperCase().replace(/-/g," ")}return null},[a.pathname]);(0,s.useEffect)(()=>{(async()=>{const e=L();if(e){x(!0);try{const a="https://portal.myschoolct.com",s=await fetch("".concat(a,"/api/rest/academic/subjects"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({class_level:e})});if(s.ok){const a=await s.json();o(a.subjects||[]);const n=T();n&&a.subjects&&a.subjects.includes(n)?(u(n),t("academic/class/".concat(e.toLowerCase(),"/").concat(n.toLowerCase()))):t("academic/class/".concat(e.toLowerCase()))}}catch(a){console.error("Error fetching subjects:",a)}x(!1)}else o([])})();T()||u(null),p(null),A(null),r([]),d([])},[a.pathname]),(0,s.useEffect)(()=>{m&&(async()=>{const e=L();if(!e||!m)return r([]),void d([]);x(!0);try{const t="https://portal.myschoolct.com",a=await fetch("".concat(t,"/api/rest/academic/book-types"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({class_level:e,subject:m})});if(a.ok){const e=await a.json();r(e.book_types||[]),e.book_types&&e.book_types.length>0&&p(e.book_types[0])}}catch(t){console.error("Error fetching book types:",t)}x(!1)})()},[m,a.pathname]),(0,s.useEffect)(()=>{if(h){(async()=>{const e=L();if(e&&m&&h){x(!0);try{const t="https://portal.myschoolct.com",a=await fetch("".concat(t,"/api/rest/academic/unit-lessons"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({class_level:e,subject:m,book_type:h})});if(a.ok){const e=((await a.json()).unit_lessons||[]).sort((e,t)=>{var a,s;return parseInt((null===(a=e.match(/^(\d+)/))||void 0===a?void 0:a[1])||"999")-parseInt((null===(s=t.match(/^(\d+)/))||void 0===s?void 0:s[1])||"999")});d(e)}}catch(t){console.error("Error fetching unit lessons:",t)}x(!1)}else d([])})();const e=L();e&&m&&t("academic/class/".concat(e.toLowerCase(),"/").concat(m,"/").concat(h))}},[h,m,a.pathname]);const k=e=>e.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()),w=L();if(!w)return null;const U=(()=>{const e=["Class ".concat(w.replace("CLASS-",""))];return m&&e.push(m),h&&e.push(k(h)),S&&e.push(S),e})(),M=m||h||S;return(0,f.jsxs)("div",{className:"academicFilterContainer",children:[M&&(0,f.jsxs)("div",{className:"filterBreadcrumb",children:[(0,f.jsx)("span",{className:"breadcrumbPath",children:U.map((e,a)=>(0,f.jsxs)("span",{children:[(0,f.jsx)("span",{className:a===U.length-1?"breadcrumbActive":"breadcrumbItem",onClick:()=>{0===a?(u(null),p(null),A(null),r([]),d([]),t("academic/class/".concat(w.toLowerCase()))):1===a?(p(null),A(null),d([]),t("academic/class/".concat(w.toLowerCase(),"/").concat(m))):2===a&&(A(null),t("academic/class/".concat(w.toLowerCase(),"/").concat(m,"/").concat(h)))},children:e}),a<U.length-1&&(0,f.jsx)("span",{className:"breadcrumbSeparator",children:" \u203a "})]},a))}),(0,f.jsx)("button",{className:"collapseToggle",onClick:()=>I(!b),children:b?"\u25bc Expand":"\u25b2 Collapse"})]}),!b&&m&&(l.length>0||c.length>0)&&(0,f.jsxs)("div",{className:"academicBluePane",children:[m&&l.length>0&&(0,f.jsx)("div",{className:"bookTypesRow",children:l.map(e=>(0,f.jsx)("div",{className:"bookTypeChip ".concat(h===e?"active":""),onClick:()=>(e=>{j||(p(e),A(null))})(e),children:k(e)},e))}),h&&c.length>0&&(0,f.jsx)("div",{className:"lessonsRow",children:(0,f.jsx)(C.ScrollMenu,{scrollContainerClassName:"lessonScrollContainer",onMouseDown:()=>R,LeftArrow:g.D,RightArrow:g.U,onMouseUp:()=>N,onMouseMove:e=>{let{scrollContainer:t}=e;return e=>O(e,e=>{t.current&&(t.current.scrollLeft+=e)})},children:c.map(e=>(0,f.jsx)(v,{itemId:e,title:e,selected:S===e,onClick:()=>(e=>{if(j)return;A(e);const a=L();a&&m&&h&&t("academic/class/".concat(a.toLowerCase(),"/").concat(m,"/").concat(h,"/").concat(e))})(e)},e))})})]}),y&&(0,f.jsx)("div",{className:"filterLoadingIndicator",children:"Loading..."})]})},A=(e,t)=>{const{list:a,continuationToken:C,loading:g,filters:E,filterField:v,totalCount:A,isTruncated:y}=(0,n.d4)(e=>e.api),[x,b]=(0,s.useState)([]),[I,R]=(0,s.useState)(0),[N,O]=(0,s.useState)(!1),[j,L]=(0,s.useState)([]),[T,k]=(0,s.useState)(null),[w,U]=(0,s.useState)(null),[M,_]=(0,s.useState)(null),[F,D]=(0,s.useState)("ALL"),[K,P]=(0,s.useState)(""),[G,H]=(0,s.useState)([]),z=(0,n.wA)(),B=(0,i.zy)(),W=((0,i.g)(),e=>{if(null!==B&&void 0!==B&&B.search.includes("?text=")&&""!==(null===B||void 0===B?void 0:B.search.replace("?text=","").toLowerCase())){let e={"Content-Type":"application/json"};return void z((0,p.L)({headers:e,method:"GET",body:{query:decodeURIComponent(null===B||void 0===B?void 0:B.search.replace("?text=","").toLowerCase()),size:100}})).then(async e=>{var t;const a=(null===(t=e.payload)||void 0===t?void 0:t.data)||[],s={};a.forEach(e=>{const t=e.path||e.title||"";t&&(s[t]=e.path||e.thumbnail||"")}),b(s)})}let t=e||(()=>{var e;const t=B.pathname.toLowerCase().split("/").filter(e=>e),a=t.findIndex(e=>"academic"===e.toLowerCase()),s=-1!==a?t.slice(a+1):[];if(0===s.length)return"ACADEMIC";const n=null===(e=s[0])||void 0===e?void 0:e.toLowerCase();if("class"===n)return"ACADEMIC/"+s.map((e,t)=>{const a=e.toUpperCase();return"CLASS"===a||a.startsWith("CLASS-")?a:a.replace(/-/g," ")}).join("/");if("imagebank"===n||"image-bank"===n){if(s.length>1){let e=decodeURIComponent(s[1]).replace(/-/g," ").toUpperCase();const t={"AREAS OR LOCALITIES":"AREAS OR LOCATIES","HOUSEHOLD THINGS":"HOUSE HOLD THINGS",HOUSEHOLDTHINGS:"HOUSE HOLD THINGS"}[e]||e;if(s.length>2){const e=decodeURIComponent(s[2]).replace(/-/g," ").toUpperCase();return"ACADEMIC/IMAGE BANK/".concat(t,"/").concat(e)}return"ACADEMIC/IMAGE BANK/".concat(t)}return"ACADEMIC/IMAGE BANK"}if("offers"===n)return"OFFERS";const o={"visual-worksheets":"ONE_CLICK_RESOURCE_CENTRE/VISUAL WORKSHEETS",rhymes:"ONE_CLICK_RESOURCE_CENTRE/RHYMES",safety:"ONE_CLICK_RESOURCE_CENTRE/SAFETY","value-education":"ONE_CLICK_RESOURCE_CENTRE/VALUE EDUCATION","art-lessons":"ONE_CLICK_RESOURCE_CENTRE/ART LESSONS","craft-lessons":"ONE_CLICK_RESOURCE_CENTRE/CRAFT LESSONS","picture-stories":"ONE_CLICK_RESOURCE_CENTRE/PICTORIAL STORIES","pictorial-stories":"ONE_CLICK_RESOURCE_CENTRE/PICTORIAL STORIES","moral-stories":"ONE_CLICK_RESOURCE_CENTRE/MORAL STORIES",comics:"ONE_CLICK_RESOURCE_CENTRE/COMICS","flash-cards":"ONE_CLICK_RESOURCE_CENTRE/FLASH CARDS","gk-science":"ONE_CLICK_RESOURCE_CENTRE/GK & SCIENCE","learn-hand-writing":"ONE_CLICK_RESOURCE_CENTRE/LEARN HAND WRITING","project-charts":"ONE_CLICK_RESOURCE_CENTRE/PROJECT CHARTS","puzzles-riddles":"ONE_CLICK_RESOURCE_CENTRE/PUZZELS & RIDDLES","computer-lessons":"ONE_CLICK_RESOURCE_CENTRE/COMPUTER LESSONS",donors:"DONORS"};return o[n]?o[n]:"ACADEMIC/"+s.map(e=>e.toUpperCase().replace(/-/g," ")).join("/")})();z((0,r.z)({url:"/rest/images/fetch",header:{"Content-Type":"application/json"},method:"post",body:{folderPath:t,imagesPerPage:500}}))});(0,s.useEffect)(()=>W(),[B.pathname,null!==B&&void 0!==B&&B.search.includes("?text=")?null===B||void 0===B?void 0:B.search.replace("?text=","").toLowerCase():null]);const J=(e,t)=>{L(t?t=>{const a=[...t];let s=a.indexOf(e);return s>=-1&&a.splice(s,1),a}:t=>{const a=[...t];return a.push(e),a})},V=()=>{O(!1),R(0)};return(0,s.useEffect)(()=>{D("ALL"),P(""),H([])},[B.pathname]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"checkboxContainer",children:(0,f.jsx)(d.A,{image:j,openLogin:O,handleRemove:J,handleRemoveAll:()=>{L([])},handleAddToFavourite:e=>{L(t=>{const a=[...t];let s=a.indexOf(e);var n;s>-1&&(a[s].markFav=!(null!==(n=a[s])&&void 0!==n&&n.markFav));return a})}})}),(0,f.jsxs)("div",{children:[!B.pathname.toLowerCase().includes("imagebank")&&(0,f.jsx)(S,{loadImages:W}),(0,f.jsxs)("div",{className:"academicsContainer",children:[(0,f.jsx)("div",{className:c.Fr?"mobGutter":"homeGutter"}),(0,f.jsxs)("div",{className:"academicsWrapper",children:[(0,f.jsx)(o.A,{formats:T,setFormat:k,docType:w,setDocType:U}),(0,f.jsx)(l.A,{openLogin:O,loading:g,pageType:null!==B&&void 0!==B&&B.search.includes("?text=")?"result":"sections",data:null!==B&&void 0!==B&&B.search.includes("?text=")?x:a,token:C,addedImages:j,selectedFilters:T,addToNoSelectImage:J,totalCount:A,isTruncated:y})]}),(0,f.jsx)("div",{className:c.Fr?"mobGutter":"homeGutter"})]})]}),(0,f.jsx)(m.A,{className:"openModal",onClose:V,open:N,children:0===I?(0,f.jsx)(u.a,{changeTab:()=>R(0===I?1:0),handleCloseModal:V}):(0,f.jsx)(h.H,{changeTab:()=>R(0===I?1:0),handleCloseModal:V})})]})}},5489(){},6395(e,t,a){a.d(t,{A:()=>R});var s=a(94496),n=a(71716),o=a(72882),l=a(584),r=a(46946),i=a(65043);var c,d;const m=["title","titleId"];function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},u.apply(null,arguments)}function h(e,t){let{title:a,titleId:s}=e,n=function(e,t){if(null==e)return{};var a,s,n=function(e,t){if(null==e)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;a[s]=e[s]}return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,m);return i.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:226,height:292,viewBox:"0 0 226 292",ref:t,"aria-labelledby":s},n),a?i.createElement("title",{id:s},a):null,c||(c=i.createElement("defs",null,i.createElement("filter",{id:"Rectangle_4406",x:0,y:0,width:226,height:292,filterUnits:"userSpaceOnUse"},i.createElement("feOffset",{input:"SourceAlpha"}),i.createElement("feGaussianBlur",{stdDeviation:12,result:"blur"}),i.createElement("feFlood",{floodOpacity:.039}),i.createElement("feComposite",{operator:"in",in2:"blur"}),i.createElement("feComposite",{in:"SourceGraphic"})),i.createElement("linearGradient",{id:"linear-gradient",x1:.5,x2:.5,y2:1,gradientUnits:"objectBoundingBox"},i.createElement("stop",{offset:0,stopColor:"#c9dbff"}),i.createElement("stop",{offset:1,stopColor:"#7da8ff"})))),d||(d=i.createElement("g",{id:"Group_10798","data-name":"Group 10798",transform:"translate(-1032 -164)"},i.createElement("g",{transform:"matrix(1, 0, 0, 1, 1032, 164)",filter:"url(#Rectangle_4406)"},i.createElement("rect",{id:"Rectangle_4406-2","data-name":"Rectangle 4406",width:154,height:220,rx:8,transform:"translate(36 36)",fill:"#e4ebfa"})),i.createElement("path",{id:"Icon_metro-images","data-name":"Icon metro-images",d:"M142.17,30.1a18.1,18.1,0,1,1-18.1-18.1A18.1,18.1,0,0,1,142.17,30.1Zm12.067,102.573H9.429V108.539l42.236-72.4,48.27,60.337H112l42.236-36.2Z",transform:"translate(1063 280.611)",fill:"url(#linear-gradient)"}))))}const p=i.forwardRef(h);a.p;a(94957),a(67679);var C=a(37487),g=a(9363),E=a(15217),f=a(79456),v=a(64046),S=a(45376),A=a(98425),y=a(45685),x=(a(73569),a(69634),a(8738)),b=a(96003),I=a(70579);const R=e=>{const[t,a]=(0,i.useState)(!1),[c,d]=i.useState(!1),[m,u]=(0,i.useState)(0),{refreshToken:h,accessToken:R,tokenExpiry:N,userRole:O,isLoggedin:j}=(0,f.d4)(e=>e.login),L=(0,y.Zp)(),T=(0,f.wA)(),{displaySnackbar:k}=(0,v.d)(),{useCredits:w,loading:U}=(0,b.I)(),M=()=>{d(!1)};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{onMouseOver:()=>{a(!0)},onMouseOut:()=>{a(!1)},className:"selectedImageContainer",onClick:()=>d(!0),children:[(0,I.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAA3RJREFUWEfFl89LG0EUx78RFUERtYggQYqCCNJYTDwWPHgRsfSgB6FRQnryUrQBf1y86cEmUpWA2hi0IHiLxT9AqMcESuJBELSIooJtsDd/JPa9cTddzW5mQi0OPHZh3rz5zPu1szYojtvb23JSfU3STvKS5DlJpbY8Sc8fJN9Jtki+2my23yqmbTIl2vgF6bwn8ZAUyPS1+TQ9wySfCCSRa01OANr8Iy3+oLiplZqfIHxWk6YA2qn5BM5/3FxfHmMPmnkjC4A2f0XKEZKqR9pcN/OLXt4QxDej3XsA2sk5iR57cyNEu9ETDwGiMrdvb28jFAoJgyMjI2hqasrXUTECcOmLMgAqCRePx+F0OuH1erGzs4Pd3V2cn5/nC8D6mcQUAJrr4zJLsVgMXV1dODw8FJu3tLTwWtkyq3kHh0IH+ExaXpmlRwYIEcA7m9bhuJNJm4wZQG9vL6qrqzE3N4eCAqkJ4xm5WVUywFt6+SI7Pc+bAfh8PiwuLqKtrQ2dnZ3weDyoqlIuIjcDKLnfCoBzgE/e0NCAVCqFm5sbkSOKI8QA0tLTjVnlAMUSy8vLuLi4wNDQECoqKnBwcCCekhFjAK6jZ2aKwWAQw8PDmanW1lbs7+9nVQFvtLS0hKOjI4TDYVxdXaGjowPz8/MygJ8MkLJKwKmpKfj9fhwfH6Onpwebm5uoqakRAEVFRUgkEnA4HKIU2QszMzNYWVlBIBAQAOk051nOkZYCTExMCMODg4OIRqPo7u4WAMXFxVmWGYTzgN3f2Nio0iMEgGUIOKbcbhcWFjA6Oiq8oDciMwCdaG9vTxVAhECahG63G3a7HRwS9oLLlWnlpv7NA0AkobQMBwYGsLq6irGxMUxOTsriijwARBkqNSJuMlzvGxsbKCwszAkxPj6O6elpXF9fy2BFI+LLprQVc33Pzs6KlssJaTUuLy9RUlKCtbU19PX15QK4a8WsoRIG1mtubhbuTSaTKC0tNTUeiUTQ398vekJ5OZ/Nctx9jDQAvvlKP8cnJyeora3F6ekpysrKTC1z/dfV1WF9fV3m/r+fYw1CegM+OztDfX296PdWg/OD9awAtXX3LyS6MZWSlB1LYd78SmYIxRa9K39PFTY0qvDN2PpSqkE83bXcEApOyqf5MTH6S+WmrBCC/H/NHkA83c/pA5D/8nv+B3ehyYJAZHMqAAAAAElFTkSuQmCC",alt:"Selected items cursor"}),t&&(0,I.jsxs)(s.A,{fontSize:"15px",style:{color:"black",fontSize:"15px"},children:["You Have Selected  ",e.image.length," items"]})]}),(0,I.jsx)(l.Ay,{anchor:"right",open:c,onClose:M,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,I.jsxs)(r.A,{sx:{width:x.Fr?"100vw":"400px",height:"100%",display:"flex",flexDirection:"column"},children:[(0,I.jsxs)("div",{className:"selectImageHeaderContainer",children:[(0,I.jsxs)("div",{className:"txtContainer",children:[(0,I.jsxs)(s.A,{id:"modal-modal-title",variant:"h6",style:{flex:1},children:[e.image.length," IMAGES SELECTED"]}),(0,I.jsx)("div",{className:"iconsContainer",children:(0,I.jsx)(E.h,{color:"black",onClick:M})})]}),0!==e.image.length?(0,I.jsx)("div",{className:"removeButtonContainer",children:(0,I.jsx)(o.A,{variant:"text",size:"small",onClick:e.handleRemoveAll,sx:{color:"#7FAAFF"},children:"Remove All"})}):null]}),0===e.image.length?(0,I.jsxs)("div",{className:"emptyImageContainer",children:[(0,I.jsx)(p,{}),(0,I.jsx)(s.A,{fontSize:"16px",color:"#707070",children:"YOU HAVE SELECTED NO IMAGE!"})]}):(0,I.jsx)("div",{className:"showSelectedImageContainer",children:e.image.map((t,a)=>(0,I.jsxs)("div",{className:"selectedImageSubContainer",children:[(0,I.jsx)("img",{src:t.url,alt:""},"".concat(t.url)),(0,I.jsx)(s.A,{fontSize:"16px",color:"black",children:t.tittle}),(0,I.jsx)("div",{className:"overlaysFavIconContainer",children:(0,I.jsx)(n.A,{onClick:()=>e.handleAddToFavourite(t),style:{backgroundColor:"white",border:"1px solid #DDDDDD"},children:null!==t&&void 0!==t&&t.markFav?(0,I.jsx)(g.h,{}):(0,I.jsx)(C.h,{})})}),(0,I.jsx)("div",{className:"overlaysActionBtn",children:(0,I.jsx)(o.A,{variant:"text",size:"small",color:"secondary",onClick:()=>e.handleRemove(t,!0),children:"Remove"})})]}))}),(0,I.jsx)("div",{className:"bottomButtonContainer",children:0===e.image.length?(0,I.jsx)(o.A,{className:"btnLinearGrad-1",variant:"contained",onClick:()=>{if(!j)return k({message:"Please log in first to perform this Actions."}),e.openLogin(!0),void d(!1);L("/auth/images")},children:"VIEW ALL IMAGES"}):(0,I.jsx)(o.A,{className:"btnLinearGrad-1",variant:"contained",onClick:async()=>{if(!j)return k({message:"Please log in first to perform this Actions."}),e.openLogin(!0),void d(!1);{let s=e.image;var t=[],a=[];s.map((e,s)=>{null!==e&&void 0!==e&&e.markFav?t.push(e.fileName):a.push(e.fileName)});const n=t.length+a.length;if(0===n)return void k({message:"No images selected to save"});if(!(await w(n,"save")).success)return;let o={"Content-Type":"application/json",Authorization:"Bearer ".concat(R)};if(0!==t.length&&0!==a.length){let s={images:t,markFavourite:!0},n={images:a,markFavourite:!1};T((0,S.Ky)({headers:o,body:s})),T((0,S.Ky)({headers:o,body:n})).then(t=>{var a,l;"Success"!==t.payload&&"Success"!==(null===(a=t.payload)||void 0===a?void 0:a.message)||(k({message:"Images saved to My Images"}),e.handleRemoveAll()),"Expired JWT"===(null===(l=t.payload)||void 0===l?void 0:l.message)&&T((0,A.vn)({headers:o,body:{refreshToken:h}})).then(t=>{o.Authorization="Bearer ".concat(t.payload.accessToken),T((0,S.Ky)({headers:o,body:s})),T((0,S.Ky)({headers:o,body:n})).then(t=>{var a;"Success"!==t.payload&&"Success"!==(null===(a=t.payload)||void 0===a?void 0:a.message)||(k({message:"Images saved to My Images"}),e.handleRemoveAll())})})})}else if(0!==t.length){let a={images:t,markFavourite:!0};T((0,S.Ky)({headers:o,body:a})).then(t=>{var s,n;"Success"!==t.payload&&"Success"!==(null===(s=t.payload)||void 0===s?void 0:s.message)||(k({message:"Images saved to My Images"}),e.handleRemoveAll()),"Expired JWT"===(null===(n=t.payload)||void 0===n?void 0:n.message)&&T((0,A.vn)({headers:o,body:{refreshToken:h}})).then(t=>{o.Authorization="Bearer ".concat(t.payload.accessToken),T((0,S.Ky)({headers:o,body:a})).then(t=>{var a;"Success"!==t.payload&&"Success"!==(null===(a=t.payload)||void 0===a?void 0:a.message)||(k({message:"Images saved to My Images"}),e.handleRemoveAll())})})})}else if(0!==a.length){let t={images:a,markFavourite:!1};T((0,S.Ky)({headers:o,body:t})).then(a=>{var s,n;"Success"!==a.payload&&"Success"!==(null===(s=a.payload)||void 0===s?void 0:s.message)||(k({message:"Images saved to My Images"}),e.handleRemoveAll()),"Expired JWT"===(null===(n=a.payload)||void 0===n?void 0:n.message)&&T((0,A.vn)({headers:o,body:{refreshToken:h}})).then(a=>{o.Authorization="Bearer ".concat(a.payload.accessToken),T((0,S.Ky)({headers:o,body:t})).then(t=>{var a;"Success"!==t.payload&&"Success"!==(null===(a=t.payload)||void 0===a?void 0:a.message)||(k({message:"Images saved to My Images"}),e.handleRemoveAll())})})})}}},children:"SAVE TO MY IMAGES"})})]})})]})}},17718(e,t,a){a.d(t,{A:()=>m});var s=a(65043),n=a(10981),o=a(83796),l=a(6006),r=(a(28574),a(45071)),i=a(45685),c=a(70579);function d(e){let{onClick:t,selected:a,title:o}=e;const l=s.useContext(n.VisibilityContext);return(0,c.jsx)("div",{onClick:()=>t(l),style:{minWidth:"80px",width:"auto",paddingRight:"8px"},tabIndex:0,children:(0,c.jsx)("p",{className:a?"filterItemActive":"filterItem",style:{margin:0,whiteSpace:"nowrap"},unselectable:"on",children:o})})}const m=e=>{const[t,a]=s.useState(r.x7),[m,u]=s.useState(r.El),{dragStart:h,dragStop:p,dragMove:C,dragging:g}=((0,i.zy)(),(0,l.A)());return(0,c.jsx)("div",{className:"filterContainer",children:(0,c.jsx)("div",{className:"filterSelector",children:(0,c.jsx)("div",{style:{maxWidth:"-webkit-fill-available"},children:(0,c.jsx)(n.ScrollMenu,{scrollContainerClassName:"signUpScrollContainer",onMouseDown:()=>h,LeftArrow:o.D,RightArrow:o.U,onMouseUp:()=>p,onMouseMove:e=>{let{scrollContainer:t}=e;return e=>C(e,e=>{t.current&&(t.current.scrollLeft+=e)})},style:{width:"0px !important"},children:t.map((s,n)=>{return(0,c.jsx)(d,{itemId:s.name,title:s.name,onClick:()=>((s,n,o,l)=>{if(g)return!1;if(l.hasOwnProperty("type"))e.formats?e.setFormat(e.formats.name!==s?{name:s,endCode:l.endCode}:null):e.setFormat({name:s,endCode:l.endCode});else{if(e.docType!==s){let e=[[...t][o]];a([...e,...n])}else a(r.x7);e.setDocType(e.docType!==s?s:null),e.setFormat(null)}})(s.name,s.children,n,s),selected:(o=s,o.hasOwnProperty("type")?e.formats?o.name===e.formats.name:void 0:o.name===e.docType)},s.name);var o})})})})})}},40735(){},83796(e,t,a){a.d(t,{D:()=>d,U:()=>m});var s=a(65043),n=a(87717),o=a(91700),l=a(10981),r=a(45685),i=a(70579);const c=e=>{let{children:t,disabled:a,onClick:s}=e;var n=(0,r.zy)();n.pathname,n.pathname.split("/").filter(e=>e).filter(e=>"views"!==e)[0];return(0,i.jsx)("button",{disabled:a,onClick:s,style:{cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"center",right:"1%",opacity:a?"0":"1",userSelect:"none",border:"none",backgroundColor:"#eeece0"},children:t})},d=()=>{(0,r.zy)().pathname;const{isFirstItemVisible:e,scrollPrev:t,visibleItemsWithoutSeparators:a,initComplete:o}=s.useContext(l.VisibilityContext),[d,m]=s.useState(!o||o&&e);return s.useEffect(()=>{a.length&&m(e)},[e,a]),(0,i.jsx)(c,{disabled:d,onClick:()=>t(),children:(0,i.jsx)(n.h,{style:{color:"black"}})})},m=()=>{(0,r.zy)().pathname;const{isLastItemVisible:e,scrollNext:t,visibleItemsWithoutSeparators:a}=s.useContext(l.VisibilityContext),[n,d]=s.useState(!a.length&&e);return s.useEffect(()=>{a.length&&d(e)},[e,a]),(0,i.jsx)(c,{disabled:n,onClick:()=>t(),children:(0,i.jsx)(o.h,{style:{color:"black"}})})}}}]);
//# sourceMappingURL=947.f4f3001d.chunk.js.map