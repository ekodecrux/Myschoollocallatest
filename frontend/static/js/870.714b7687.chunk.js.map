{"version":3,"file":"static/js/870.714b7687.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/Close.js","../node_modules/@mui/icons-material/esm/ChevronLeft.js","../node_modules/@mui/icons-material/esm/ChevronRight.js","../node_modules/@mui/icons-material/esm/DragIndicator.js","../node_modules/@mui/icons-material/esm/Schedule.js","../node_modules/@mui/icons-material/esm/ViewWeek.js","../node_modules/@mui/icons-material/esm/CalendarMonth.js","../node_modules/@mui/icons-material/esm/DateRange.js","components/makers/microScheduler/MicroScheduler.jsx","../node_modules/@mui/icons-material/esm/Add.js","../node_modules/@mui/icons-material/esm/Edit.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}), 'ChevronLeft');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}), 'ChevronRight');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2\"\n}), 'DragIndicator');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z\"\n}, \"1\")], 'Schedule');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M5.33 20H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h1.33c1.1 0 2 .9 2 2v12c0 1.1-.89 2-2 2M22 18V6c0-1.1-.9-2-2-2h-1.33c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2H20c1.11 0 2-.9 2-2m-7.33 0V6c0-1.1-.9-2-2-2h-1.33c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h1.33c1.1 0 2-.9 2-2\"\n}), 'ViewWeek');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z\"\n}), 'CalendarMonth');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M9 11H7v2h2zm4 0h-2v2h2zm4 0h-2v2h2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V9h14z\"\n}), 'DateRange');","import React, { useState, useRef, useEffect } from 'react';\nimport {\n  Box,\n  Paper,\n  Typography,\n  Button,\n  IconButton,\n  TextField,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Grid,\n  Chip,\n  Tooltip,\n  Snackbar,\n  Alert,\n  Divider,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemSecondaryAction,\n  Card,\n  CardContent,\n  CardActions,\n  Tabs,\n  Tab\n} from '@mui/material';\nimport {\n  Add as AddIcon,\n  Edit as EditIcon,\n  Delete as DeleteIcon,\n  Save as SaveIcon,\n  Download as DownloadIcon,\n  Print as PrintIcon,\n  ChevronLeft as ChevronLeftIcon,\n  ChevronRight as ChevronRightIcon,\n  DragIndicator as DragIcon,\n  ContentCopy as CopyIcon,\n  Today as DayIcon,\n  ViewWeek as WeekIcon,\n  CalendarMonth as MonthIcon,\n  DateRange as YearIcon,\n  FolderOpen as LoadIcon,\n  Settings as SettingsIcon,\n  Schedule as ScheduleIcon,\n  Close as CloseIcon\n} from '@mui/icons-material';\nimport html2canvas from 'html2canvas';\nimport './MicroScheduler.css';\n// Default subjects with colors\nconst DEFAULT_SUBJECTS = [\n  { id: 1, name: 'English', color: '#e91e63', shortName: 'ENG' },\n  { id: 2, name: 'Mathematics', color: '#2196f3', shortName: 'MATH' },\n  { id: 3, name: 'Science', color: '#4caf50', shortName: 'SCI' },\n  { id: 4, name: 'Social Studies', color: '#ff9800', shortName: 'SS' },\n  { id: 5, name: 'Hindi', color: '#9c27b0', shortName: 'HIN' },\n  { id: 6, name: 'Computer', color: '#00bcd4', shortName: 'COMP' },\n  { id: 7, name: 'Art', color: '#f44336', shortName: 'ART' },\n  { id: 8, name: 'Physical Education', color: '#795548', shortName: 'PE' },\n];\n// Default period configuration\nconst DEFAULT_PERIODS = [\n  { id: 1, name: 'Period 1', startTime: '08:00', endTime: '08:45' },\n  { id: 2, name: 'Period 2', startTime: '08:45', endTime: '09:30' },\n  { id: 3, name: 'Period 3', startTime: '09:45', endTime: '10:30' },\n  { id: 4, name: 'Period 4', startTime: '10:30', endTime: '11:15' },\n  { id: 5, name: 'Period 5', startTime: '11:30', endTime: '12:15' },\n  { id: 6, name: 'Period 6', startTime: '12:15', endTime: '13:00' },\n  { id: 7, name: 'Period 7', startTime: '14:00', endTime: '14:45' },\n  { id: 8, name: 'Period 8', startTime: '14:45', endTime: '15:30' },\n];\nconst MONTHS = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\nconst DAYS_FULL = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nconst DAYS_SHORT = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\nconst COLOR_PRESETS = [\n  '#e91e63', '#f44336', '#9c27b0', '#673ab7', '#3f51b5', '#2196f3',\n  '#03a9f4', '#00bcd4', '#009688', '#4caf50', '#8bc34a', '#cddc39',\n  '#ffeb3b', '#ffc107', '#ff9800', '#ff5722', '#795548', '#607d8b'\n];\nconst MicroScheduler = () => {\n  const [currentYear, setCurrentYear] = useState(new Date().getFullYear());\n  const [currentMonth, setCurrentMonth] = useState(new Date().getMonth());\n  const [currentWeekStart, setCurrentWeekStart] = useState(() => {\n    // Get the Monday of current week\n    const today = new Date();\n    const day = today.getDay();\n    const diff = day === 0 ? -6 : 1 - day; // Adjust when day is Sunday\n    const monday = new Date(today);\n    monday.setDate(today.getDate() + diff);\n    return monday.toISOString().split('T')[0]; // Store as YYYY-MM-DD\n  });\n  const [selectedDay, setSelectedDay] = useState(0);\n  const [subjects, setSubjects] = useState(DEFAULT_SUBJECTS);\n  const [periods, setPeriods] = useState(DEFAULT_PERIODS);\n  const [viewMode, setViewMode] = useState('week'); // Changed default to 'week'\n  const [leftTab, setLeftTab] = useState(0); // 0=Subjects, 1=Templates, 2=Settings\n  // School info\n  const [schoolName, setSchoolName] = useState('My School');\n  const [className, setClassName] = useState('Class 5-A');\n  // Store schedule per specific date: { \"2025-12-27\": { \"0\": subject, \"1\": subject } } // day -> period -> subject\n  const [weeklySchedule, setWeeklySchedule] = useState({}); \n  const [draggedSubject, setDraggedSubject] = useState(null);\n  const [subjectDialog, setSubjectDialog] = useState({ open: false, mode: 'add', subject: null });\n  const [periodDialog, setPeriodDialog] = useState({ open: false, mode: 'add', period: null });\n  const [newSubject, setNewSubject] = useState({ name: '', color: '#2196f3', shortName: '' });\n  const [newPeriod, setNewPeriod] = useState({ name: '', startTime: '08:00', endTime: '08:45' });\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' });\n  const [saveDialog, setSaveDialog] = useState(false);\n  const [scheduleName, setScheduleName] = useState('');\n  const [confirmDeleteDialog, setConfirmDeleteDialog] = useState({ open: false, subjectId: null, subjectName: '' });\n  const [confirmClearDialog, setConfirmClearDialog] = useState({ open: false, type: null, dayIndex: null, periodIndex: null, dateKey: null, monthIndex: null, day: null });\n  const [savedSchedules, setSavedSchedules] = useState(() => {\n    try {\n      return JSON.parse(localStorage.getItem('microSchedulerTemplates') || '[]');\n    } catch {\n      return [];\n    }\n  });\n  const [editingTemplate, setEditingTemplate] = useState(null);\n  const scheduleRef = useRef(null);\n  \n  // Helper to get dates for current week\n  const getCurrentWeekDates = () => {\n    const dates = [];\n    const startDate = new Date(currentWeekStart);\n    for (let i = 0; i < 6; i++) { // Mon-Sat\n      const d = new Date(startDate);\n      d.setDate(startDate.getDate() + i);\n      dates.push(d.toISOString().split('T')[0]);\n    }\n    return dates;\n  };\n  \n  // Navigate to next/previous week\n  const goToNextWeek = () => {\n    const startDate = new Date(currentWeekStart);\n    startDate.setDate(startDate.getDate() + 7);\n    setCurrentWeekStart(startDate.toISOString().split('T')[0]);\n  };\n  \n  const goToPreviousWeek = () => {\n    const startDate = new Date(currentWeekStart);\n    startDate.setDate(startDate.getDate() - 7);\n    setCurrentWeekStart(startDate.toISOString().split('T')[0]);\n  };\n  \n  // Format week display\n  const formatWeekDisplay = () => {\n    const startDate = new Date(currentWeekStart);\n    const endDate = new Date(currentWeekStart);\n    endDate.setDate(startDate.getDate() + 5); // Saturday\n    const options = { month: 'short', day: 'numeric' };\n    return `${startDate.toLocaleDateString('en-US', options)} - ${endDate.toLocaleDateString('en-US', options)}, ${startDate.getFullYear()}`;\n  };\n  \n  const getDaysInMonth = (month, year) => new Date(year, month + 1, 0).getDate();\n  \n  // Get the day of week (0=Mon, 1=Tue, ... 5=Sat, 6=Sun) for a given date\n  const getDayOfWeekMondayBased = (year, month, day) => {\n    const jsDay = new Date(year, month, day).getDay(); // 0=Sun, 1=Mon, ... 6=Sat\n    return jsDay === 0 ? 6 : jsDay - 1; // Convert to 0=Mon, 1=Tue, ... 5=Sat, 6=Sun\n  };\n  \n  // Generate weeks for a month - each week is an array of 6 days (Mon-Sat)\n  // Each element is either { day, isCurrentMonth } or null (for empty cells)\n  // Now includes days from previous/next month to show complete weeks\n  const getWeeksInMonth = (month, year) => {\n    const daysInMonth = getDaysInMonth(month, year);\n    const daysInPrevMonth = getDaysInMonth(month === 0 ? 11 : month - 1, month === 0 ? year - 1 : year);\n    const weeks = [];\n    let currentWeek = new Array(6).fill(null); // 6 days: Mon-Sat\n    \n    // Get the day of week for the 1st of the month\n    const firstDayOfWeek = getDayOfWeekMondayBased(year, month, 1); // 0=Mon to 6=Sun\n    \n    // Fill in days from previous month if the month doesn't start on Monday\n    if (firstDayOfWeek !== 0 && firstDayOfWeek !== 6) { // Not starting on Monday or Sunday\n      const prevMonth = month === 0 ? 11 : month - 1;\n      const prevYear = month === 0 ? year - 1 : year;\n      for (let i = firstDayOfWeek - 1; i >= 0; i--) {\n        const prevDay = daysInPrevMonth - i;\n        currentWeek[firstDayOfWeek - 1 - i] = { day: prevDay, isCurrentMonth: false, month: prevMonth, year: prevYear };\n      }\n    }\n    \n    for (let day = 1; day <= daysInMonth; day++) {\n      const dayOfWeek = getDayOfWeekMondayBased(year, month, day); // 0=Mon to 6=Sun\n      \n      // Skip Sundays (dayOfWeek === 6)\n      if (dayOfWeek === 6) continue;\n      \n      // Place day in correct column (0-5 for Mon-Sat)\n      currentWeek[dayOfWeek] = { day, isCurrentMonth: true, month, year };\n      \n      // If it's Saturday (dayOfWeek === 5), push the week and start new\n      if (dayOfWeek === 5) {\n        weeks.push(currentWeek);\n        currentWeek = new Array(6).fill(null);\n      }\n    }\n    \n    // Fill in days from next month to complete the last week\n    if (currentWeek.some(d => d !== null)) {\n      const nextMonth = month === 11 ? 0 : month + 1;\n      const nextYear = month === 11 ? year + 1 : year;\n      let nextDay = 1;\n      for (let i = 0; i < 6; i++) {\n        if (currentWeek[i] === null) {\n          // Check if this slot should have a day from next month\n          const lastDayOfMonth = getDayOfWeekMondayBased(year, month, daysInMonth);\n          if (i > lastDayOfMonth || lastDayOfMonth === 6) {\n            currentWeek[i] = { day: nextDay++, isCurrentMonth: false, month: nextMonth, year: nextYear };\n          }\n        }\n      }\n      weeks.push(currentWeek);\n    }\n    \n    return weeks;\n  };\n  const handleDragStart = (subject) => setDraggedSubject(subject);\n  const handleDragOver = (e) => e.preventDefault();\n  \n  // Handle dropping a subject onto a period in Week view\n  const handleDropPeriod = (dayIndex, periodIndex) => {\n    if (!draggedSubject) return;\n    const weekDates = getCurrentWeekDates();\n    const dateKey = weekDates[dayIndex]; // Get actual date for this day\n    \n    setWeeklySchedule(prev => {\n      const newSchedule = { ...prev };\n      if (!newSchedule[dateKey]) {\n        newSchedule[dateKey] = {};\n      }\n      newSchedule[dateKey][periodIndex] = draggedSubject;\n      return newSchedule;\n    });\n    setDraggedSubject(null);\n  };\n  \n  // Handle dropping a subject onto a calendar day in Month/Year view\n  const handleDropCalendar = (monthIndex, day) => {\n    if (!draggedSubject || !day) return;\n    const dateKey = `${currentYear}-${String(monthIndex + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;\n    \n    setWeeklySchedule(prev => {\n      const newSchedule = { ...prev };\n      if (!newSchedule[dateKey]) {\n        newSchedule[dateKey] = {};\n      }\n      // Add to period 0 (first period) for calendar drops\n      newSchedule[dateKey][0] = draggedSubject;\n      return newSchedule;\n    });\n    setDraggedSubject(null);\n  };\n  \n  // Clear schedule for a specific date\n  const handleClearCalendar = (monthIndex, day) => {\n    if (!day) return;\n    setConfirmClearDialog({ \n      open: true, \n      type: 'calendar', \n      monthIndex, \n      day,\n      dayIndex: null,\n      periodIndex: null,\n      dateKey: null\n    });\n  };\n  \n  // Actually clear the calendar after confirmation\n  const confirmClearCalendar = () => {\n    const { monthIndex, day } = confirmClearDialog;\n    const dateKey = `${currentYear}-${String(monthIndex + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;\n    \n    setWeeklySchedule(prev => {\n      const newSchedule = { ...prev };\n      delete newSchedule[dateKey];\n      return newSchedule;\n    });\n    setConfirmClearDialog({ open: false, type: null, dayIndex: null, periodIndex: null, dateKey: null, monthIndex: null, day: null });\n  };\n  \n  // Get ALL subjects for a specific date (for Month/Year views)\n  const getSubjectsForDate = (dateKey) => {\n    const daySchedule = weeklySchedule[dateKey];\n    if (!daySchedule) return [];\n    // Return all subjects found for this date\n    const periodKeys = Object.keys(daySchedule).sort();\n    return periodKeys.map(key => daySchedule[key]).filter(Boolean);\n  };\n  \n  // Get subject for a specific date (for Month/Year views) - returns first subject (for single display)\n  const getSubjectForDate = (dateKey) => {\n    const daySchedule = weeklySchedule[dateKey];\n    if (!daySchedule) return null;\n    // Return first subject found for this date\n    const periodKeys = Object.keys(daySchedule).sort();\n    return periodKeys.length > 0 ? daySchedule[periodKeys[0]] : null;\n  };\n  \n  // Get subject for current week view\n  const getWeekDayPeriodSubject = (dayIndex, periodIndex) => {\n    const weekDates = getCurrentWeekDates();\n    const dateKey = weekDates[dayIndex];\n    return weeklySchedule[dateKey]?.[periodIndex] || null;\n  };\n  \n  // Clear a specific period from current week\n  const handleClearPeriod = (dayIndex, periodIndex) => {\n    setConfirmClearDialog({ \n      open: true, \n      type: 'period', \n      dayIndex, \n      periodIndex,\n      dateKey: null,\n      monthIndex: null,\n      day: null\n    });\n  };\n  \n  // Actually clear the period after confirmation\n  const confirmClearPeriod = () => {\n    const { dayIndex, periodIndex } = confirmClearDialog;\n    const weekDates = getCurrentWeekDates();\n    const dateKey = weekDates[dayIndex];\n    \n    setWeeklySchedule(prev => {\n      const newSchedule = { ...prev };\n      if (newSchedule[dateKey]) {\n        delete newSchedule[dateKey][periodIndex];\n        if (Object.keys(newSchedule[dateKey]).length === 0) {\n          delete newSchedule[dateKey];\n        }\n      }\n      return newSchedule;\n    });\n    setConfirmClearDialog({ open: false, type: null, dayIndex: null, periodIndex: null, dateKey: null, monthIndex: null, day: null });\n  };\n  \n  // Copy current week schedule to next week\n  const handleCopyWeekToNext = () => {\n    const currentDates = getCurrentWeekDates();\n    const nextWeekStart = new Date(currentWeekStart);\n    nextWeekStart.setDate(nextWeekStart.getDate() + 7);\n    \n    setWeeklySchedule(prev => {\n      const newSchedule = { ...prev };\n      currentDates.forEach((currentDate, i) => {\n        if (prev[currentDate]) {\n          const nextDate = new Date(nextWeekStart);\n          nextDate.setDate(nextWeekStart.getDate() + i);\n          const nextDateKey = nextDate.toISOString().split('T')[0];\n          newSchedule[nextDateKey] = { ...prev[currentDate] };\n        }\n      });\n      return newSchedule;\n    });\n    \n    // Navigate to the next week to show the copied schedule\n    setCurrentWeekStart(nextWeekStart.toISOString().split('T')[0]);\n    \n    setSnackbar({ open: true, message: 'Schedule copied to next week!', severity: 'success' });\n  };\n  \n  // Subject management\n  const handleSaveSubject = () => {\n    if (!newSubject.name.trim()) {\n      setSnackbar({ open: true, message: 'Subject name is required', severity: 'error' });\n      return;\n    }\n    if (subjectDialog.mode === 'add') {\n      const subject = {\n        id: Date.now(),\n        name: newSubject.name,\n        color: newSubject.color,\n        shortName: newSubject.shortName || newSubject.name.substring(0, 4).toUpperCase()\n      };\n      setSubjects([...subjects, subject]);\n    } else {\n      setSubjects(subjects.map(s => \n        s.id === subjectDialog.subject.id \n          ? { ...s, name: newSubject.name, color: newSubject.color, shortName: newSubject.shortName }\n          : s\n      ));\n    }\n    setSubjectDialog({ open: false, mode: 'add', subject: null });\n    setNewSubject({ name: '', color: '#2196f3', shortName: '' });\n    setSnackbar({ open: true, message: subjectDialog.mode === 'add' ? 'Subject added!' : 'Subject updated!', severity: 'success' });\n  };\n  \n  // Show confirmation dialog before deleting subject\n  const handleDeleteSubjectClick = (subjectId, subjectName) => {\n    setConfirmDeleteDialog({ open: true, subjectId, subjectName });\n  };\n  \n  // Confirm deletion of subject\n  const confirmDeleteSubject = () => {\n    if (confirmDeleteDialog.subjectId) {\n      setSubjects(subjects.filter(s => s.id !== confirmDeleteDialog.subjectId));\n      setSnackbar({ open: true, message: 'Subject deleted', severity: 'info' });\n    }\n    setConfirmDeleteDialog({ open: false, subjectId: null, subjectName: '' });\n  };\n  \n  const handleDeleteSubject = (subjectId) => {\n    setSubjects(subjects.filter(s => s.id !== subjectId));\n    setSnackbar({ open: true, message: 'Subject deleted', severity: 'info' });\n  };\n  // Period management\n  const handleSavePeriod = () => {\n    if (!newPeriod.name.trim()) {\n      setSnackbar({ open: true, message: 'Period name is required', severity: 'error' });\n      return;\n    }\n    // Validate time\n    if (newPeriod.startTime >= newPeriod.endTime) {\n      setSnackbar({ open: true, message: 'End time must be after start time', severity: 'error' });\n      return;\n    }\n    // Check for duplicate/overlapping periods (Issue 12)\n    const existingPeriods = periodDialog.mode === 'add' \n      ? periods \n      : periods.filter(p => p.id !== periodDialog.period?.id);\n    \n    const hasOverlap = existingPeriods.some(p => {\n      const newStart = newPeriod.startTime;\n      const newEnd = newPeriod.endTime;\n      const existStart = p.startTime;\n      const existEnd = p.endTime;\n      // Check if times overlap\n      return (newStart < existEnd && newEnd > existStart);\n    });\n    \n    if (hasOverlap) {\n      setSnackbar({ open: true, message: 'This time slot overlaps with an existing period', severity: 'error' });\n      return;\n    }\n    \n    if (periodDialog.mode === 'add') {\n      setPeriods([...periods, { id: Date.now(), ...newPeriod }]);\n    } else {\n      setPeriods(periods.map(p => \n        p.id === periodDialog.period.id ? { ...p, ...newPeriod } : p\n      ));\n    }\n    setPeriodDialog({ open: false, mode: 'add', period: null });\n    setNewPeriod({ name: '', startTime: '08:00', endTime: '08:45' });\n    setSnackbar({ open: true, message: periodDialog.mode === 'add' ? 'Period added!' : 'Period updated!', severity: 'success' });\n  };\n  const handleDeletePeriod = (periodId) => {\n    setPeriods(periods.filter(p => p.id !== periodId));\n    setSnackbar({ open: true, message: 'Period deleted', severity: 'info' });\n  };\n  // Save schedule as template\n  const handleSaveSchedule = () => {\n    if (!scheduleName.trim()) {\n      setSnackbar({ open: true, message: 'Please enter a name', severity: 'error' });\n      return;\n    }\n    const scheduleData = {\n      id: editingTemplate?.id || Date.now(),\n      name: scheduleName,\n      schoolName,\n      className,\n      subjects,\n      periods,\n      weeklySchedule,\n      savedAt: new Date().toISOString()\n    };\n    let newList;\n    if (editingTemplate) {\n      newList = savedSchedules.map(s => s.id === editingTemplate.id ? scheduleData : s);\n    } else {\n      newList = [...savedSchedules.filter(s => s.name !== scheduleName), scheduleData];\n    }\n    localStorage.setItem('microSchedulerTemplates', JSON.stringify(newList));\n    setSavedSchedules(newList);\n    setSaveDialog(false);\n    setScheduleName('');\n    setEditingTemplate(null);\n    setSnackbar({ open: true, message: `Template \"${scheduleName}\" saved!`, severity: 'success' });\n  };\n  const handleLoadSchedule = (schedule) => {\n    setSchoolName(schedule.schoolName || 'My School');\n    setClassName(schedule.className || 'Class 5-A');\n    setSubjects(schedule.subjects || DEFAULT_SUBJECTS);\n    setPeriods(schedule.periods || DEFAULT_PERIODS);\n    setWeeklySchedule(schedule.weeklySchedule || schedule.daySchedule || {});\n    setSnackbar({ open: true, message: `Loaded \"${schedule.name}\"`, severity: 'success' });\n  };\n  const handleEditTemplate = (schedule) => {\n    setEditingTemplate(schedule);\n    setScheduleName(schedule.name);\n    setSaveDialog(true);\n  };\n  const handleDeleteTemplate = (id) => {\n    const newList = savedSchedules.filter(s => s.id !== id);\n    localStorage.setItem('microSchedulerTemplates', JSON.stringify(newList));\n    setSavedSchedules(newList);\n    setSnackbar({ open: true, message: 'Template deleted', severity: 'info' });\n  };\n  const handleExport = async () => {\n    if (!scheduleRef.current) return;\n    try {\n      // Hide buttons during export\n      const buttonsToHide = scheduleRef.current.querySelectorAll('.hide-on-export');\n      buttonsToHide.forEach(btn => btn.style.display = 'none');\n      \n      const canvas = await html2canvas(scheduleRef.current, { scale: 2, backgroundColor: '#ffffff' });\n      \n      // Restore buttons\n      buttonsToHide.forEach(btn => btn.style.display = '');\n      \n      const link = document.createElement('a');\n      link.download = `schedule-${viewMode}-${Date.now()}.png`;\n      link.href = canvas.toDataURL();\n      link.click();\n      setSnackbar({ open: true, message: 'Exported!', severity: 'success' });\n    } catch (error) {\n      setSnackbar({ open: true, message: 'Export failed', severity: 'error' });\n    }\n  };\n  // Print only the schedule\n  const handlePrint = async () => {\n    if (!scheduleRef.current) return;\n    try {\n      // Hide buttons during print\n      const buttonsToHide = scheduleRef.current.querySelectorAll('.hide-on-export');\n      buttonsToHide.forEach(btn => btn.style.display = 'none');\n      \n      const canvas = await html2canvas(scheduleRef.current, { scale: 2, backgroundColor: '#ffffff' });\n      \n      // Restore buttons\n      buttonsToHide.forEach(btn => btn.style.display = '');\n      \n      const printWindow = window.open('', '_blank');\n      if (printWindow) {\n        printWindow.document.write(`\n          <!DOCTYPE html>\n          <html>\n          <head>\n            <title>${schoolName} - ${className} Schedule</title>\n            <style>\n              body { margin: 0; padding: 0; }\n              img { max-width: 100%; height: auto; display: block; }\n              @media print { \n                body { margin: 0; padding: 0; } \n                img { max-width: 100%; page-break-inside: avoid; } \n              }\n            </style>\n          </head>\n          <body>\n            <img src=\"${canvas.toDataURL()}\" />\n          </body>\n          </html>\n        `);\n        printWindow.document.close();\n        setTimeout(() => {\n          printWindow.print();\n          printWindow.close();\n        }, 250);\n      }\n    } catch (error) {\n      setSnackbar({ open: true, message: 'Print failed', severity: 'error' });\n    }\n  };\n  // Render Week View (this is now the primary view for editing)\n  const renderWeekView = () => {\n    const weekDates = getCurrentWeekDates();\n    return (\n      <Box ref={scheduleRef} sx={{ p: { xs: 1, md: 2 }, backgroundColor: '#fff', overflow: 'auto' }}>\n        <Box sx={{ textAlign: 'center', mb: 2 }}>\n          <Typography variant=\"h6\" sx={{ fontWeight: 'bold', color: '#1976d2', fontSize: { xs: '1rem', md: '1.25rem' } }}>{schoolName}</Typography>\n          <Typography variant=\"subtitle2\" color=\"text.secondary\" sx={{ fontSize: { xs: '0.75rem', md: '0.875rem' } }}>{className} - Weekly Timetable</Typography>\n        </Box>\n        {/* Week Navigation - Responsive */}\n        <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: { xs: 0.5, md: 2 }, mb: 2, flexWrap: 'wrap' }}>\n          <IconButton className=\"hide-on-export\" onClick={goToPreviousWeek} size=\"small\"><ChevronLeftIcon /></IconButton>\n          <Typography variant=\"h6\" sx={{ fontWeight: 'bold', minWidth: { xs: 180, md: 250 }, textAlign: 'center', fontSize: { xs: '0.85rem', md: '1.25rem' } }}>\n            {formatWeekDisplay()}\n          </Typography>\n          <IconButton className=\"hide-on-export\" onClick={goToNextWeek} size=\"small\"><ChevronRightIcon /></IconButton>\n          <Button className=\"hide-on-export\" size=\"small\" variant=\"outlined\" onClick={handleCopyWeekToNext} startIcon={<CopyIcon />} sx={{ fontSize: { xs: '0.65rem', md: '0.875rem' }, display: { xs: 'none', sm: 'inline-flex' } }}>\n            Copy to Next\n          </Button>\n        </Box>\n        <Box sx={{ display: 'grid', gridTemplateColumns: { xs: `60px repeat(6, 1fr)`, md: `100px repeat(6, 1fr)` }, gap: '2px', overflowX: 'auto' }}>\n          <Box sx={{ p: { xs: 0.5, md: 1 }, backgroundColor: '#1976d2', color: '#fff', fontWeight: 'bold', textAlign: 'center', fontSize: { xs: '0.65rem', md: '0.875rem' } }}>Time</Box>\n          {DAYS_SHORT.map((day, idx) => {\n            const dateObj = new Date(weekDates[idx]);\n            return (\n              <Box key={day} sx={{ p: { xs: 0.5, md: 1 }, backgroundColor: '#1976d2', color: '#fff', fontWeight: 'bold', textAlign: 'center' }}>\n                <div style={{ fontSize: 'inherit' }}>{day}</div>\n                <div style={{ fontSize: '0.6rem', opacity: 0.8 }}>{dateObj.getDate()}/{dateObj.getMonth() + 1}</div>\n              </Box>\n            );\n          })}\n          {periods.map((period, pIdx) => (\n            <React.Fragment key={pIdx}>\n              <Box sx={{ p: { xs: 0.5, md: 1 }, backgroundColor: '#e3f2fd', fontSize: { xs: '0.55rem', md: '0.7rem' }, textAlign: 'center' }}>\n                <div style={{ fontWeight: 'bold' }}>{period.name}</div>\n                <div style={{ fontSize: '0.5rem', color: '#666' }}>{period.startTime}-{period.endTime}</div>\n              </Box>\n              {DAYS_FULL.map((_, dayIdx) => {\n                const subject = getWeekDayPeriodSubject(dayIdx, pIdx);\n                return (\n                  <Box key={dayIdx} onDragOver={handleDragOver} onDrop={() => handleDropPeriod(dayIdx, pIdx)}\n                    onClick={() => subject && handleClearPeriod(dayIdx, pIdx)}\n                    sx={{ p: { xs: 0.25, md: 1 }, backgroundColor: subject ? subject.color : '#fafafa', color: subject ? '#fff' : '#999',\n                      textAlign: 'center', cursor: 'pointer', minHeight: { xs: 35, md: 50 }, display: 'flex', alignItems: 'center',\n                      justifyContent: 'center', fontSize: { xs: '0.55rem', md: '0.75rem' }, fontWeight: subject ? 'bold' : 'normal',\n                      transition: 'all 0.2s', '&:hover': { opacity: 0.8 } }}>\n                    {subject ? subject.shortName : '+'}\n                  </Box>\n                );\n              })}\n            </React.Fragment>\n          ))}\n        </Box>\n      </Box>\n    );\n  };\n  // Render Month View\n  const renderMonthView = () => {\n    const weeks = getWeeksInMonth(currentMonth, currentYear);\n    return (\n      <Box ref={scheduleRef} sx={{ p: 2, backgroundColor: '#fff' }}>\n        <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 2, mb: 2 }}>\n          <Tooltip title=\"Previous Month\"><IconButton className=\"hide-on-export\" onClick={() => setCurrentMonth(m => m === 0 ? 11 : m - 1)}><ChevronLeftIcon /></IconButton></Tooltip>\n          <Tooltip title={`${MONTHS[currentMonth]} ${currentYear}`}>\n            <Typography variant=\"h5\" sx={{ fontWeight: 'bold', minWidth: 200, textAlign: 'center', cursor: 'default' }}>\n              {MONTHS[currentMonth]} {currentYear}\n            </Typography>\n          </Tooltip>\n          <Tooltip title=\"Next Month\"><IconButton className=\"hide-on-export\" onClick={() => setCurrentMonth(m => m === 11 ? 0 : m + 1)}><ChevronRightIcon /></IconButton></Tooltip>\n        </Box>\n        <Box sx={{ display: 'grid', gridTemplateColumns: 'repeat(6, 1fr)', gap: 1 }}>\n          {DAYS_SHORT.map(day => (\n            <Box key={day} sx={{ p: 1, textAlign: 'center', fontWeight: 'bold', backgroundColor: '#e3f2fd' }}>{day}</Box>\n          ))}\n          {weeks.map((week, wIdx) => (\n            week.map((dayInfo, dIdx) => {\n              // Get ALL subjects for this specific date - handle new object structure\n              const dayNum = dayInfo ? (typeof dayInfo === 'object' ? dayInfo.day : dayInfo) : null;\n              const dayMonth = dayInfo && typeof dayInfo === 'object' ? dayInfo.month : currentMonth;\n              const dayYear = dayInfo && typeof dayInfo === 'object' ? dayInfo.year : currentYear;\n              const isCurrentMonth = dayInfo && typeof dayInfo === 'object' ? dayInfo.isCurrentMonth : true;\n              const dateKey = dayNum ? `${dayYear}-${String(dayMonth + 1).padStart(2, '0')}-${String(dayNum).padStart(2, '0')}` : null;\n              const allSubjects = dateKey ? getSubjectsForDate(dateKey) : [];\n              const hasSubjects = allSubjects.length > 0;\n              return (\n                <Box key={`${wIdx}-${dIdx}`} onDragOver={handleDragOver} onDrop={() => dayNum && handleDropCalendar(dayMonth, dayNum)}\n                  onClick={() => hasSubjects && handleClearCalendar(dayMonth, dayNum)}\n                  sx={{ p: 0.5, minHeight: 70, border: '1px solid #e0e0e0', borderRadius: 1,\n                    backgroundColor: dayNum ? (isCurrentMonth ? '#fff' : '#f9f9f9') : '#f5f5f5',\n                    cursor: dayNum ? 'pointer' : 'default', opacity: isCurrentMonth ? 1 : 0.6,\n                    '&:hover': dayNum ? { boxShadow: 2 } : {}, display: 'flex', flexDirection: 'column' }}>\n                  {dayNum && (\n                    <>\n                      <Typography variant=\"caption\" sx={{ fontWeight: 'bold', color: isCurrentMonth ? '#333' : '#999', mb: 0.5 }}>{dayNum}</Typography>\n                      <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.25, flex: 1 }}>\n                        {allSubjects.slice(0, 4).map((subject, idx) => (\n                          <Box key={idx} sx={{ \n                            backgroundColor: subject.color, \n                            color: '#fff', \n                            fontSize: '0.55rem', \n                            px: 0.5, \n                            py: 0.25, \n                            borderRadius: 0.5,\n                            lineHeight: 1\n                          }}>\n                            {subject.shortName}\n                          </Box>\n                        ))}\n                        {allSubjects.length > 4 && (\n                          <Typography variant=\"caption\" sx={{ fontSize: '0.5rem', color: '#666' }}>\n                            +{allSubjects.length - 4}\n                          </Typography>\n                        )}\n                      </Box>\n                    </>\n                  )}\n                </Box>\n              );\n            })\n          ))}\n        </Box>\n      </Box>\n    );\n  };\n  // Render Year View\n  const renderYearView = () => (\n    <Box ref={scheduleRef} sx={{ p: 2, backgroundColor: '#fff' }}>\n      <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 2, mb: 2 }}>\n        <IconButton className=\"hide-on-export\" onClick={() => setCurrentYear(y => y - 1)}><ChevronLeftIcon /></IconButton>\n        <Typography variant=\"h5\" sx={{ fontWeight: 'bold' }}>Academic Year {currentYear}</Typography>\n        <IconButton className=\"hide-on-export\" onClick={() => setCurrentYear(y => y + 1)}><ChevronRightIcon /></IconButton>\n      </Box>\n      <Grid container spacing={2}>\n        {MONTHS.map((month, mIdx) => {\n          const weeks = getWeeksInMonth(mIdx, currentYear);\n          return (\n            <Grid item xs={6} sm={4} md={3} key={mIdx}>\n              <Paper sx={{ p: 1 }}>\n                <Typography variant=\"subtitle2\" sx={{ textAlign: 'center', fontWeight: 'bold', color: '#1976d2', mb: 0.5 }}>{month}</Typography>\n                <Box sx={{ display: 'grid', gridTemplateColumns: 'repeat(6, 1fr)', gap: '1px', fontSize: '0.55rem' }}>\n                  {DAYS_SHORT.map(d => (\n                    <Box key={d} sx={{ textAlign: 'center', fontWeight: 'bold', color: '#666', py: 0.25 }}>{d.charAt(0)}</Box>\n                  ))}\n                  {weeks.map((week, wIdx) => (\n                    week.map((dayInfo, dIdx) => {\n                      // Get subject for this specific date - handle new object structure\n                      const dayNum = dayInfo ? (typeof dayInfo === 'object' ? dayInfo.day : dayInfo) : null;\n                      const dayMonth = dayInfo && typeof dayInfo === 'object' ? dayInfo.month : mIdx;\n                      const dayYear = dayInfo && typeof dayInfo === 'object' ? dayInfo.year : currentYear;\n                      const isCurrentMonth = dayInfo && typeof dayInfo === 'object' ? dayInfo.isCurrentMonth : true;\n                      const dateKey = dayNum ? `${dayYear}-${String(dayMonth + 1).padStart(2, '0')}-${String(dayNum).padStart(2, '0')}` : null;\n                      const subject = dateKey ? getSubjectForDate(dateKey) : null;\n                      return (\n                        <Box key={`${wIdx}-${dIdx}`} onDragOver={handleDragOver} onDrop={() => dayNum && handleDropCalendar(dayMonth, dayNum)}\n                          onClick={() => subject && handleClearCalendar(dayMonth, dayNum)}\n                          sx={{ height: 16, backgroundColor: subject ? subject.color : (dayNum ? (isCurrentMonth ? '#fafafa' : '#e8e8e8') : '#f0f0f0'),\n                            borderRadius: '2px', cursor: dayNum ? 'pointer' : 'default', display: 'flex', alignItems: 'center',\n                            justifyContent: 'center', color: subject ? '#fff' : (isCurrentMonth ? '#333' : '#999'), fontSize: '0.5rem',\n                            opacity: isCurrentMonth ? 1 : 0.6 }}>\n                          {dayNum && !subject && dayNum}\n                          {subject && subject.shortName.charAt(0)}\n                        </Box>\n                      );\n                    })\n                  ))}\n                </Box>\n              </Paper>\n            </Grid>\n          );\n        })}\n      </Grid>\n      <Box sx={{ mt: 2, display: 'flex', flexWrap: 'wrap', gap: 1, justifyContent: 'center' }}>\n        {subjects.map(s => <Chip key={s.id} label={s.name} size=\"small\" sx={{ backgroundColor: s.color, color: '#fff' }} />)}\n      </Box>\n    </Box>\n  );\n  return (\n    <Box sx={{ display: 'flex', height: 'calc(100vh - 120px)', bgcolor: '#f5f5f5' }}>\n      {/* Left Sidebar */}\n      <Paper sx={{ width: 280, display: 'flex', flexDirection: 'column', borderRadius: 0 }}>\n        <Tabs value={leftTab} onChange={(e, v) => setLeftTab(v)} variant=\"fullWidth\">\n          <Tab label=\"Subjects\" sx={{ fontSize: '0.7rem', minWidth: 0 }} />\n          <Tab label=\"Templates\" sx={{ fontSize: '0.7rem', minWidth: 0 }} />\n          <Tab label=\"Settings\" sx={{ fontSize: '0.7rem', minWidth: 0 }} />\n        </Tabs>\n        <Box sx={{ flex: 1, overflow: 'auto', p: 1.5 }}>\n          {/* Subjects Tab */}\n          {leftTab === 0 && (\n            <>\n              <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mb: 1, display: 'block' }}>\n                Drag subjects to schedule\n              </Typography>\n              {subjects.map(subject => (\n                <Box key={subject.id} draggable onDragStart={() => handleDragStart(subject)}\n                  sx={{ display: 'flex', alignItems: 'center', p: 1, mb: 1, borderRadius: 1,\n                    backgroundColor: subject.color, color: '#fff', cursor: 'grab',\n                    '&:hover': { opacity: 0.9 }, '&:active': { cursor: 'grabbing' } }}>\n                  <DragIcon sx={{ mr: 1, fontSize: 16 }} />\n                  <Typography variant=\"body2\" sx={{ flex: 1, fontWeight: 500 }}>{subject.name}</Typography>\n                  <IconButton size=\"small\" sx={{ color: '#fff', p: 0.25 }}\n                    onClick={(e) => { e.stopPropagation();\n                      setNewSubject({ name: subject.name, color: subject.color, shortName: subject.shortName });\n                      setSubjectDialog({ open: true, mode: 'edit', subject }); }}>\n                    <EditIcon fontSize=\"small\" />\n                  </IconButton>\n                  <IconButton size=\"small\" sx={{ color: '#fff', p: 0.25 }}\n                    onClick={(e) => { e.stopPropagation(); handleDeleteSubjectClick(subject.id, subject.name); }}>\n                    <DeleteIcon fontSize=\"small\" />\n                  </IconButton>\n                </Box>\n              ))}\n              <Button variant=\"outlined\" startIcon={<AddIcon />} fullWidth size=\"small\"\n                onClick={() => { setNewSubject({ name: '', color: '#2196f3', shortName: '' });\n                  setSubjectDialog({ open: true, mode: 'add', subject: null }); }}>\n                Add Subject\n              </Button>\n            </>\n          )}\n          {/* Templates Tab */}\n          {leftTab === 1 && (\n            <>\n              <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mb: 1, display: 'block' }}>\n                Your saved schedule templates\n              </Typography>\n              {savedSchedules.length === 0 ? (\n                <Typography variant=\"body2\" color=\"text.secondary\" sx={{ textAlign: 'center', py: 3 }}>\n                  No templates yet. Save your first schedule!\n                </Typography>\n              ) : (\n                savedSchedules.map((schedule) => (\n                  <Card key={schedule.id} sx={{ mb: 1 }}>\n                    <CardContent sx={{ py: 1, px: 1.5, '&:last-child': { pb: 1 } }}>\n                      <Typography variant=\"subtitle2\">{schedule.name}</Typography>\n                      <Typography variant=\"caption\" color=\"text.secondary\">\n                        {new Date(schedule.savedAt).toLocaleDateString()}\n                      </Typography>\n                    </CardContent>\n                    <CardActions sx={{ pt: 0, px: 1, pb: 1 }}>\n                      <Button size=\"small\" onClick={() => handleLoadSchedule(schedule)}>Load</Button>\n                      <Button size=\"small\" onClick={() => handleEditTemplate(schedule)}>Edit</Button>\n                      <IconButton size=\"small\" onClick={() => handleDeleteTemplate(schedule.id)}>\n                        <DeleteIcon fontSize=\"small\" />\n                      </IconButton>\n                    </CardActions>\n                  </Card>\n                ))\n              )}\n            </>\n          )}\n          {/* Settings Tab - School Info & Period Configuration */}\n          {leftTab === 2 && (\n            <>\n              <Typography variant=\"subtitle2\" gutterBottom>School Information</Typography>\n              <TextField \n                size=\"small\" \n                fullWidth \n                label=\"School Name\" \n                value={schoolName}\n                onChange={(e) => setSchoolName(e.target.value)}\n                sx={{ mb: 1 }}\n              />\n              <TextField \n                size=\"small\" \n                fullWidth \n                label=\"Class / Section\" \n                value={className}\n                onChange={(e) => setClassName(e.target.value)}\n                sx={{ mb: 2 }}\n              />\n              <Divider sx={{ my: 1 }} />\n              <Typography variant=\"subtitle2\" gutterBottom>Period Timings</Typography>\n              <Typography variant=\"caption\" color=\"text.secondary\" sx={{ mb: 1, display: 'block' }}>\n                Customize your school&apos;s period schedule\n              </Typography>\n              {periods.map((period, idx) => (\n                <Box key={period.id} sx={{ display: 'flex', alignItems: 'center', gap: 0.5, mb: 1,\n                  p: 1, backgroundColor: '#f5f5f5', borderRadius: 1 }}>\n                  <ScheduleIcon sx={{ fontSize: 16, color: '#666' }} />\n                  <Box sx={{ flex: 1 }}>\n                    <Typography variant=\"caption\" fontWeight=\"bold\">{period.name}</Typography>\n                    <Typography variant=\"caption\" display=\"block\" color=\"text.secondary\">\n                      {period.startTime} - {period.endTime}\n                    </Typography>\n                  </Box>\n                  <IconButton size=\"small\" onClick={() => {\n                    setNewPeriod({ name: period.name, startTime: period.startTime, endTime: period.endTime });\n                    setPeriodDialog({ open: true, mode: 'edit', period }); }}>\n                    <EditIcon fontSize=\"small\" />\n                  </IconButton>\n                  <IconButton size=\"small\" onClick={() => handleDeletePeriod(period.id)}>\n                    <DeleteIcon fontSize=\"small\" />\n                  </IconButton>\n                </Box>\n              ))}\n              <Button variant=\"outlined\" startIcon={<AddIcon />} fullWidth size=\"small\"\n                onClick={() => { setNewPeriod({ name: `Period ${periods.length + 1}`, startTime: '08:00', endTime: '08:45' });\n                  setPeriodDialog({ open: true, mode: 'add', period: null }); }}>\n                Add Period\n              </Button>\n            </>\n          )}\n        </Box>\n      </Paper>\n      {/* Main Content */}\n      <Box sx={{ flex: 1, display: 'flex', flexDirection: 'column', overflow: 'hidden' }}>\n        {/* Toolbar */}\n        <Paper sx={{ p: 1, borderRadius: 0, display: 'flex', alignItems: 'center', gap: 1, flexWrap: 'wrap' }}>\n          <Button size=\"small\" variant={viewMode === 'week' ? 'contained' : 'outlined'} startIcon={<WeekIcon />}\n            onClick={() => setViewMode('week')}\n            sx={viewMode === 'week' ? { backgroundColor: '#1976d2', color: '#fff', '&:hover': { backgroundColor: '#1565c0', color: '#fff' } } : { '&:hover': { backgroundColor: '#e3f2fd' } }}>Week</Button>\n          <Button size=\"small\" variant={viewMode === 'month' ? 'contained' : 'outlined'} startIcon={<MonthIcon />}\n            onClick={() => setViewMode('month')}\n            sx={viewMode === 'month' ? { backgroundColor: '#1976d2', color: '#fff', '&:hover': { backgroundColor: '#1565c0', color: '#fff' } } : { '&:hover': { backgroundColor: '#e3f2fd' } }}>Month</Button>\n          <Button size=\"small\" variant={viewMode === 'year' ? 'contained' : 'outlined'} startIcon={<YearIcon />}\n            onClick={() => setViewMode('year')}\n            sx={viewMode === 'year' ? { backgroundColor: '#1976d2', color: '#fff', '&:hover': { backgroundColor: '#1565c0', color: '#fff' } } : { '&:hover': { backgroundColor: '#e3f2fd' } }}>Year</Button>\n          <Divider orientation=\"vertical\" flexItem sx={{ mx: 1 }} />\n          <Button size=\"small\" variant=\"outlined\" startIcon={<SaveIcon />} onClick={() => { setEditingTemplate(null); setScheduleName(''); setSaveDialog(true); }}\n            sx={{ color: '#1976d2', borderColor: '#1976d2', '&:hover': { backgroundColor: '#1976d2', color: '#fff', borderColor: '#1976d2' } }}>Save</Button>\n          <Button size=\"small\" variant=\"outlined\" startIcon={<DownloadIcon />} onClick={handleExport}\n            sx={{ color: '#1976d2', borderColor: '#1976d2', '&:hover': { backgroundColor: '#1976d2', color: '#fff', borderColor: '#1976d2' } }}>Export</Button>\n          <Button size=\"small\" variant=\"outlined\" startIcon={<PrintIcon />} onClick={handlePrint}\n            sx={{ color: '#1976d2', borderColor: '#1976d2', '&:hover': { backgroundColor: '#1976d2', color: '#fff', borderColor: '#1976d2' } }}>Print</Button>\n        </Paper>\n        {/* Schedule Content */}\n        <Box sx={{ flex: 1, overflow: 'auto', p: 2 }}>\n          {viewMode === 'week' && renderWeekView()}\n          {viewMode === 'month' && renderMonthView()}\n          {viewMode === 'year' && renderYearView()}\n        </Box>\n      </Box>\n      {/* Subject Dialog */}\n      <Dialog open={subjectDialog.open} onClose={() => setSubjectDialog({ open: false, mode: 'add', subject: null })} maxWidth=\"sm\" fullWidth>\n        <DialogTitle sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          {subjectDialog.mode === 'add' ? 'Add Subject' : 'Edit Subject'}\n          <IconButton onClick={() => setSubjectDialog({ open: false, mode: 'add', subject: null })} size=\"small\">\n            <CloseIcon />\n          </IconButton>\n        </DialogTitle>\n        <DialogContent sx={{ maxHeight: '60vh', overflow: 'auto' }}>\n          <TextField autoFocus margin=\"dense\" label=\"Subject Name\" fullWidth value={newSubject.name}\n            onChange={(e) => setNewSubject({ ...newSubject, name: e.target.value.substring(0, 30) })} \n            sx={{ mb: 2 }} \n            inputProps={{ maxLength: 30 }}\n            helperText={`${newSubject.name.length}/30 characters`} />\n          <TextField margin=\"dense\" label=\"Short Name (4 chars)\" fullWidth value={newSubject.shortName}\n            onChange={(e) => setNewSubject({ ...newSubject, shortName: e.target.value.toUpperCase().substring(0, 4) })}\n            sx={{ mb: 2 }} inputProps={{ maxLength: 4 }} />\n          <Typography variant=\"subtitle2\" gutterBottom>Color</Typography>\n          <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n            {COLOR_PRESETS.map(color => (\n              <Box key={color} onClick={() => setNewSubject({ ...newSubject, color })}\n                sx={{ width: 28, height: 28, backgroundColor: color, borderRadius: 1, cursor: 'pointer',\n                  border: newSubject.color === color ? '3px solid #000' : '1px solid #ccc',\n                  '&:hover': { transform: 'scale(1.1)' } }} />\n            ))}\n          </Box>\n        </DialogContent>\n        <DialogActions sx={{ p: 2, gap: 1, borderTop: '1px solid #e0e0e0' }}>\n          <Button onClick={() => setSubjectDialog({ open: false, mode: 'add', subject: null })} variant=\"outlined\" size=\"large\">Cancel</Button>\n          <Button onClick={handleSaveSubject} variant=\"contained\" color=\"primary\" size=\"large\" sx={{ fontWeight: 'bold', minWidth: 100, backgroundColor: '#1976d2', color: '#fff', '&:hover': { backgroundColor: '#1565c0', color: '#fff' } }}>Save</Button>\n        </DialogActions>\n      </Dialog>\n      {/* Period Dialog */}\n      <Dialog open={periodDialog.open} onClose={() => setPeriodDialog({ open: false, mode: 'add', period: null })} maxWidth=\"sm\" fullWidth>\n        <DialogTitle sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          {periodDialog.mode === 'add' ? 'Add Period' : 'Edit Period'}\n          <IconButton onClick={() => setPeriodDialog({ open: false, mode: 'add', period: null })} size=\"small\">\n            <CloseIcon />\n          </IconButton>\n        </DialogTitle>\n        <DialogContent sx={{ maxHeight: '60vh', overflow: 'auto' }}>\n          <TextField autoFocus margin=\"dense\" label=\"Period Name\" fullWidth value={newPeriod.name}\n            onChange={(e) => setNewPeriod({ ...newPeriod, name: e.target.value.substring(0, 20) })} \n            sx={{ mb: 2 }}\n            inputProps={{ maxLength: 20 }}\n            helperText={`${newPeriod.name.length}/20 characters`} />\n          <Grid container spacing={2}>\n            <Grid item xs={6}>\n              <TextField type=\"time\" label=\"Start Time\" fullWidth value={newPeriod.startTime}\n                onChange={(e) => setNewPeriod({ ...newPeriod, startTime: e.target.value })}\n                InputLabelProps={{ shrink: true }} />\n            </Grid>\n            <Grid item xs={6}>\n              <TextField type=\"time\" label=\"End Time\" fullWidth value={newPeriod.endTime}\n                onChange={(e) => setNewPeriod({ ...newPeriod, endTime: e.target.value })}\n                InputLabelProps={{ shrink: true }} />\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions sx={{ p: 2, gap: 1, borderTop: '1px solid #e0e0e0' }}>\n          <Button onClick={() => setPeriodDialog({ open: false, mode: 'add', period: null })} variant=\"outlined\" size=\"large\">Cancel</Button>\n          <Button onClick={handleSavePeriod} variant=\"contained\" color=\"primary\" size=\"large\" sx={{ fontWeight: 'bold', minWidth: 100, backgroundColor: '#1976d2', color: '#fff', '&:hover': { backgroundColor: '#1565c0', color: '#fff' } }}>Save</Button>\n        </DialogActions>\n      </Dialog>\n      {/* Save Dialog */}\n      <Dialog open={saveDialog} onClose={() => { setSaveDialog(false); setEditingTemplate(null); }}>\n        <DialogTitle sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          {editingTemplate ? 'Edit Template' : 'Save as Template'}\n          <IconButton onClick={() => { setSaveDialog(false); setEditingTemplate(null); }} size=\"small\">\n            <CloseIcon />\n          </IconButton>\n        </DialogTitle>\n        <DialogContent>\n          <TextField autoFocus margin=\"dense\" label=\"Template Name\" fullWidth value={scheduleName}\n            onChange={(e) => setScheduleName(e.target.value)} placeholder=\"e.g., Class 5A Timetable\" />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => { setSaveDialog(false); setEditingTemplate(null); }}>Cancel</Button>\n          <Button onClick={handleSaveSchedule} variant=\"contained\" color=\"primary\" sx={{ fontWeight: 'bold', backgroundColor: '#1976d2', color: '#fff', '&:hover': { backgroundColor: '#1565c0', color: '#fff' } }}>Save</Button>\n        </DialogActions>\n      </Dialog>\n      {/* Confirmation Dialog for Subject Deletion */}\n      <Dialog open={confirmDeleteDialog.open} onClose={() => setConfirmDeleteDialog({ open: false, subjectId: null, subjectName: '' })}>\n        <DialogTitle sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          Confirm Delete\n          <IconButton onClick={() => setConfirmDeleteDialog({ open: false, subjectId: null, subjectName: '' })} size=\"small\">\n            <CloseIcon />\n          </IconButton>\n        </DialogTitle>\n        <DialogContent>\n          <Typography>\n            Are you sure you want to delete the subject \"<strong>{confirmDeleteDialog.subjectName}</strong>\"? \n            This action cannot be undone.\n          </Typography>\n        </DialogContent>\n        <DialogActions sx={{ p: 2, gap: 1 }}>\n          <Button onClick={() => setConfirmDeleteDialog({ open: false, subjectId: null, subjectName: '' })} variant=\"outlined\">Cancel</Button>\n          <Button onClick={confirmDeleteSubject} variant=\"contained\" color=\"error\">Delete</Button>\n        </DialogActions>\n      </Dialog>\n      \n      {/* Confirm Clear Subject Dialog */}\n      <Dialog open={confirmClearDialog.open} onClose={() => setConfirmClearDialog({ open: false, type: null, dayIndex: null, periodIndex: null, dateKey: null, monthIndex: null, day: null })}>\n        <DialogTitle sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', pb: 1 }}>\n          Remove Subject\n          <IconButton onClick={() => setConfirmClearDialog({ open: false, type: null, dayIndex: null, periodIndex: null, dateKey: null, monthIndex: null, day: null })} size=\"small\">\n            <CloseIcon />\n          </IconButton>\n        </DialogTitle>\n        <DialogContent>\n          <Typography>\n            Are you sure you want to remove {confirmClearDialog.type === 'period' ? 'this subject from this period' : 'all subjects from this day'}?\n          </Typography>\n        </DialogContent>\n        <DialogActions sx={{ p: 2, gap: 1 }}>\n          <Button onClick={() => setConfirmClearDialog({ open: false, type: null, dayIndex: null, periodIndex: null, dateKey: null, monthIndex: null, day: null })} variant=\"outlined\">Cancel</Button>\n          <Button \n            onClick={() => {\n              if (confirmClearDialog.type === 'period') {\n                confirmClearPeriod();\n              } else {\n                confirmClearCalendar();\n              }\n            }} \n            variant=\"contained\" \n            color=\"error\"\n            sx={{ \n              backgroundColor: '#d32f2f', \n              color: '#ffffff',\n              '&:hover': { \n                backgroundColor: '#b71c1c',\n                color: '#ffffff'\n              }\n            }}\n          >\n            Remove\n          </Button>\n        </DialogActions>\n      </Dialog>\n      \n      <Snackbar open={snackbar.open} autoHideDuration={3000} onClose={() => setSnackbar({ ...snackbar, open: false })}>\n        <Alert severity={snackbar.severity}>{snackbar.message}</Alert>\n      </Snackbar>\n    </Box>\n  );\n};\nexport default MicroScheduler;\n","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z\"\n}), 'Add');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z\"\n}), 'Edit');"],"names":["createSvgIcon","_jsx","d","DEFAULT_SUBJECTS","id","name","color","shortName","DEFAULT_PERIODS","startTime","endTime","MONTHS","DAYS_FULL","DAYS_SHORT","COLOR_PRESETS","MicroScheduler","currentYear","setCurrentYear","useState","Date","getFullYear","currentMonth","setCurrentMonth","getMonth","currentWeekStart","setCurrentWeekStart","today","day","getDay","diff","monday","setDate","getDate","toISOString","split","selectedDay","setSelectedDay","subjects","setSubjects","periods","setPeriods","viewMode","setViewMode","leftTab","setLeftTab","schoolName","setSchoolName","className","setClassName","weeklySchedule","setWeeklySchedule","draggedSubject","setDraggedSubject","subjectDialog","setSubjectDialog","open","mode","subject","periodDialog","setPeriodDialog","period","newSubject","setNewSubject","newPeriod","setNewPeriod","snackbar","setSnackbar","message","severity","saveDialog","setSaveDialog","scheduleName","setScheduleName","confirmDeleteDialog","setConfirmDeleteDialog","subjectId","subjectName","confirmClearDialog","setConfirmClearDialog","type","dayIndex","periodIndex","dateKey","monthIndex","savedSchedules","setSavedSchedules","JSON","parse","localStorage","getItem","_unused","editingTemplate","setEditingTemplate","scheduleRef","useRef","getCurrentWeekDates","dates","startDate","i","push","goToNextWeek","goToPreviousWeek","formatWeekDisplay","endDate","options","month","concat","toLocaleDateString","getDaysInMonth","year","getDayOfWeekMondayBased","jsDay","getWeeksInMonth","daysInMonth","daysInPrevMonth","weeks","currentWeek","Array","fill","firstDayOfWeek","prevMonth","prevYear","prevDay","isCurrentMonth","dayOfWeek","some","nextMonth","nextYear","nextDay","lastDayOfMonth","handleDragOver","e","preventDefault","handleDropCalendar","String","padStart","prev","newSchedule","_objectSpread","handleClearCalendar","handleCopyWeekToNext","currentDates","nextWeekStart","forEach","currentDate","nextDate","nextDateKey","_jsxs","Box","sx","display","height","bgcolor","children","Paper","width","flexDirection","borderRadius","Tabs","value","onChange","v","variant","Tab","label","fontSize","minWidth","flex","overflow","p","_Fragment","Typography","mb","map","draggable","onDragStart","handleDragStart","alignItems","backgroundColor","cursor","opacity","DragIcon","mr","fontWeight","IconButton","size","onClick","stopPropagation","EditIcon","handleDeleteSubjectClick","DeleteIcon","Button","startIcon","AddIcon","fullWidth","length","textAlign","py","schedule","Card","CardContent","px","pb","savedAt","CardActions","pt","daySchedule","handleLoadSchedule","handleEditTemplate","newList","filter","s","setItem","stringify","handleDeleteTemplate","gutterBottom","TextField","target","Divider","my","idx","gap","ScheduleIcon","handleDeletePeriod","periodId","flexWrap","WeekIcon","MonthIcon","YearIcon","orientation","flexItem","mx","SaveIcon","borderColor","DownloadIcon","async","current","buttonsToHide","querySelectorAll","btn","style","canvas","html2canvas","scale","link","document","createElement","download","now","href","toDataURL","click","error","PrintIcon","printWindow","window","write","close","setTimeout","print","renderWeekView","weekDates","ref","xs","md","justifyContent","ChevronLeftIcon","ChevronRightIcon","CopyIcon","sm","gridTemplateColumns","overflowX","dateObj","pIdx","React","_","dayIdx","getWeekDayPeriodSubject","_weeklySchedule$dateK","onDragOver","onDrop","handleDropPeriod","minHeight","transition","renderMonthView","Tooltip","title","m","week","wIdx","dayInfo","dIdx","dayNum","dayMonth","dayYear","allSubjects","Object","keys","sort","key","Boolean","getSubjectsForDate","hasSubjects","border","boxShadow","slice","lineHeight","y","Grid","container","spacing","mIdx","item","charAt","periodKeys","getSubjectForDate","mt","Chip","Dialog","onClose","maxWidth","DialogTitle","CloseIcon","DialogContent","maxHeight","autoFocus","margin","substring","inputProps","maxLength","helperText","toUpperCase","transform","DialogActions","borderTop","handleSaveSubject","trim","InputLabelProps","shrink","handleSavePeriod","_periodDialog$period","newStart","newEnd","existStart","placeholder","handleSaveSchedule","scheduleData","confirmDeleteSubject","confirmClearPeriod","confirmClearCalendar","Snackbar","autoHideDuration","Alert"],"ignoreList":[],"sourceRoot":""}