"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[316],{5489(){},6395(e,a,t){t.d(a,{A:()=>w});var s=t(94496),n=t(71716),l=t(72882),o=t(584),r=t(46946),i=t(65043);var d,c;const m=["title","titleId"];function h(){return h=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},h.apply(null,arguments)}function u(e,a){let{title:t,titleId:s}=e,n=function(e,a){if(null==e)return{};var t,s,n=function(e,a){if(null==e)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(-1!==a.indexOf(s))continue;t[s]=e[s]}return t}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)t=l[s],-1===a.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}(e,m);return i.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:226,height:292,viewBox:"0 0 226 292",ref:a,"aria-labelledby":s},n),t?i.createElement("title",{id:s},t):null,d||(d=i.createElement("defs",null,i.createElement("filter",{id:"Rectangle_4406",x:0,y:0,width:226,height:292,filterUnits:"userSpaceOnUse"},i.createElement("feOffset",{input:"SourceAlpha"}),i.createElement("feGaussianBlur",{stdDeviation:12,result:"blur"}),i.createElement("feFlood",{floodOpacity:.039}),i.createElement("feComposite",{operator:"in",in2:"blur"}),i.createElement("feComposite",{in:"SourceGraphic"})),i.createElement("linearGradient",{id:"linear-gradient",x1:.5,x2:.5,y2:1,gradientUnits:"objectBoundingBox"},i.createElement("stop",{offset:0,stopColor:"#c9dbff"}),i.createElement("stop",{offset:1,stopColor:"#7da8ff"})))),c||(c=i.createElement("g",{id:"Group_10798","data-name":"Group 10798",transform:"translate(-1032 -164)"},i.createElement("g",{transform:"matrix(1, 0, 0, 1, 1032, 164)",filter:"url(#Rectangle_4406)"},i.createElement("rect",{id:"Rectangle_4406-2","data-name":"Rectangle 4406",width:154,height:220,rx:8,transform:"translate(36 36)",fill:"#e4ebfa"})),i.createElement("path",{id:"Icon_metro-images","data-name":"Icon metro-images",d:"M142.17,30.1a18.1,18.1,0,1,1-18.1-18.1A18.1,18.1,0,0,1,142.17,30.1Zm12.067,102.573H9.429V108.539l42.236-72.4,48.27,60.337H112l42.236-36.2Z",transform:"translate(1063 280.611)",fill:"url(#linear-gradient)"}))))}const g=i.forwardRef(u);t.p;t(94957),t(67679);var v=t(37487),p=t(9363),f=t(15217),y=t(79456),x=t(64046),A=t(45376),C=t(98425),b=t(45685),S=(t(73569),t(69634),t(8738)),j=t(96003),k=t(70579);const w=e=>{const[a,t]=(0,i.useState)(!1),[d,c]=i.useState(!1),[m,h]=(0,i.useState)(0),{refreshToken:u,accessToken:w,tokenExpiry:E,userRole:I,isLoggedin:T}=(0,y.d4)(e=>e.login),N=(0,b.Zp)(),F=(0,y.wA)(),{displaySnackbar:M}=(0,x.d)(),{useCredits:O,loading:R}=(0,j.I)(),L=()=>{c(!1)};return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{onMouseOver:()=>{t(!0)},onMouseOut:()=>{t(!1)},className:"selectedImageContainer",onClick:()=>c(!0),children:[(0,k.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAA3RJREFUWEfFl89LG0EUx78RFUERtYggQYqCCNJYTDwWPHgRsfSgB6FRQnryUrQBf1y86cEmUpWA2hi0IHiLxT9AqMcESuJBELSIooJtsDd/JPa9cTddzW5mQi0OPHZh3rz5zPu1szYojtvb23JSfU3STvKS5DlJpbY8Sc8fJN9Jtki+2my23yqmbTIl2vgF6bwn8ZAUyPS1+TQ9wySfCCSRa01OANr8Iy3+oLiplZqfIHxWk6YA2qn5BM5/3FxfHmMPmnkjC4A2f0XKEZKqR9pcN/OLXt4QxDej3XsA2sk5iR57cyNEu9ETDwGiMrdvb28jFAoJgyMjI2hqasrXUTECcOmLMgAqCRePx+F0OuH1erGzs4Pd3V2cn5/nC8D6mcQUAJrr4zJLsVgMXV1dODw8FJu3tLTwWtkyq3kHh0IH+ExaXpmlRwYIEcA7m9bhuJNJm4wZQG9vL6qrqzE3N4eCAqkJ4xm5WVUywFt6+SI7Pc+bAfh8PiwuLqKtrQ2dnZ3weDyoqlIuIjcDKLnfCoBzgE/e0NCAVCqFm5sbkSOKI8QA0tLTjVnlAMUSy8vLuLi4wNDQECoqKnBwcCCekhFjAK6jZ2aKwWAQw8PDmanW1lbs7+9nVQFvtLS0hKOjI4TDYVxdXaGjowPz8/MygJ8MkLJKwKmpKfj9fhwfH6Onpwebm5uoqakRAEVFRUgkEnA4HKIU2QszMzNYWVlBIBAQAOk051nOkZYCTExMCMODg4OIRqPo7u4WAMXFxVmWGYTzgN3f2Nio0iMEgGUIOKbcbhcWFjA6Oiq8oDciMwCdaG9vTxVAhECahG63G3a7HRwS9oLLlWnlpv7NA0AkobQMBwYGsLq6irGxMUxOTsriijwARBkqNSJuMlzvGxsbKCwszAkxPj6O6elpXF9fy2BFI+LLprQVc33Pzs6KlssJaTUuLy9RUlKCtbU19PX15QK4a8WsoRIG1mtubhbuTSaTKC0tNTUeiUTQ398vekJ5OZ/Nctx9jDQAvvlKP8cnJyeora3F6ekpysrKTC1z/dfV1WF9fV3m/r+fYw1CegM+OztDfX296PdWg/OD9awAtXX3LyS6MZWSlB1LYd78SmYIxRa9K39PFTY0qvDN2PpSqkE83bXcEApOyqf5MTH6S+WmrBCC/H/NHkA83c/pA5D/8nv+B3ehyYJAZHMqAAAAAElFTkSuQmCC",alt:"Selected items cursor"}),a&&(0,k.jsxs)(s.A,{fontSize:"15px",style:{color:"black",fontSize:"15px"},children:["You Have Selected  ",e.image.length," items"]})]}),(0,k.jsx)(o.Ay,{anchor:"right",open:d,onClose:L,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,k.jsxs)(r.A,{sx:{width:S.Fr?"100vw":"400px",height:"100%",display:"flex",flexDirection:"column"},children:[(0,k.jsxs)("div",{className:"selectImageHeaderContainer",children:[(0,k.jsxs)("div",{className:"txtContainer",children:[(0,k.jsxs)(s.A,{id:"modal-modal-title",variant:"h6",style:{flex:1},children:[e.image.length," IMAGES SELECTED"]}),(0,k.jsx)("div",{className:"iconsContainer",children:(0,k.jsx)(f.h,{color:"black",onClick:L})})]}),0!==e.image.length?(0,k.jsx)("div",{className:"removeButtonContainer",children:(0,k.jsx)(l.A,{variant:"text",size:"small",onClick:e.handleRemoveAll,sx:{color:"#7FAAFF"},children:"Remove All"})}):null]}),0===e.image.length?(0,k.jsxs)("div",{className:"emptyImageContainer",children:[(0,k.jsx)(g,{}),(0,k.jsx)(s.A,{fontSize:"16px",color:"#707070",children:"YOU HAVE SELECTED NO IMAGE!"})]}):(0,k.jsx)("div",{className:"showSelectedImageContainer",children:e.image.map((a,t)=>(0,k.jsxs)("div",{className:"selectedImageSubContainer",children:[(0,k.jsx)("img",{src:a.url,alt:""},"".concat(a.url)),(0,k.jsx)(s.A,{fontSize:"16px",color:"black",children:a.tittle}),(0,k.jsx)("div",{className:"overlaysFavIconContainer",children:(0,k.jsx)(n.A,{onClick:()=>e.handleAddToFavourite(a),style:{backgroundColor:"white",border:"1px solid #DDDDDD"},children:null!==a&&void 0!==a&&a.markFav?(0,k.jsx)(p.h,{}):(0,k.jsx)(v.h,{})})}),(0,k.jsx)("div",{className:"overlaysActionBtn",children:(0,k.jsx)(l.A,{variant:"text",size:"small",color:"secondary",onClick:()=>e.handleRemove(a,!0),children:"Remove"})})]}))}),(0,k.jsx)("div",{className:"bottomButtonContainer",children:0===e.image.length?(0,k.jsx)(l.A,{className:"btnLinearGrad-1",variant:"contained",onClick:()=>{if(!T)return M({message:"Please log in first to perform this Actions."}),e.openLogin(!0),void c(!1);N("/auth/images")},children:"VIEW ALL IMAGES"}):(0,k.jsx)(l.A,{className:"btnLinearGrad-1",variant:"contained",onClick:async()=>{if(!T)return M({message:"Please log in first to perform this Actions."}),e.openLogin(!0),void c(!1);{let s=e.image;var a=[],t=[];s.map((e,s)=>{null!==e&&void 0!==e&&e.markFav?a.push(e.fileName):t.push(e.fileName)});const n=a.length+t.length;if(0===n)return void M({message:"No images selected to save"});if(!(await O(n,"save")).success)return;let l={"Content-Type":"application/json",Authorization:"Bearer ".concat(w)};if(0!==a.length&&0!==t.length){let s={images:a,markFavourite:!0},n={images:t,markFavourite:!1};F((0,A.Ky)({headers:l,body:s})),F((0,A.Ky)({headers:l,body:n})).then(a=>{var t,o;"Success"!==a.payload&&"Success"!==(null===(t=a.payload)||void 0===t?void 0:t.message)||(M({message:"Images saved to My Images"}),e.handleRemoveAll()),"Expired JWT"===(null===(o=a.payload)||void 0===o?void 0:o.message)&&F((0,C.vn)({headers:l,body:{refreshToken:u}})).then(a=>{l.Authorization="Bearer ".concat(a.payload.accessToken),F((0,A.Ky)({headers:l,body:s})),F((0,A.Ky)({headers:l,body:n})).then(a=>{var t;"Success"!==a.payload&&"Success"!==(null===(t=a.payload)||void 0===t?void 0:t.message)||(M({message:"Images saved to My Images"}),e.handleRemoveAll())})})})}else if(0!==a.length){let t={images:a,markFavourite:!0};F((0,A.Ky)({headers:l,body:t})).then(a=>{var s,n;"Success"!==a.payload&&"Success"!==(null===(s=a.payload)||void 0===s?void 0:s.message)||(M({message:"Images saved to My Images"}),e.handleRemoveAll()),"Expired JWT"===(null===(n=a.payload)||void 0===n?void 0:n.message)&&F((0,C.vn)({headers:l,body:{refreshToken:u}})).then(a=>{l.Authorization="Bearer ".concat(a.payload.accessToken),F((0,A.Ky)({headers:l,body:t})).then(a=>{var t;"Success"!==a.payload&&"Success"!==(null===(t=a.payload)||void 0===t?void 0:t.message)||(M({message:"Images saved to My Images"}),e.handleRemoveAll())})})})}else if(0!==t.length){let a={images:t,markFavourite:!1};F((0,A.Ky)({headers:l,body:a})).then(t=>{var s,n;"Success"!==t.payload&&"Success"!==(null===(s=t.payload)||void 0===s?void 0:s.message)||(M({message:"Images saved to My Images"}),e.handleRemoveAll()),"Expired JWT"===(null===(n=t.payload)||void 0===n?void 0:n.message)&&F((0,C.vn)({headers:l,body:{refreshToken:u}})).then(t=>{l.Authorization="Bearer ".concat(t.payload.accessToken),F((0,A.Ky)({headers:l,body:a})).then(a=>{var t;"Success"!==a.payload&&"Success"!==(null===(t=a.payload)||void 0===t?void 0:t.message)||(M({message:"Images saved to My Images"}),e.handleRemoveAll())})})})}}},children:"SAVE TO MY IMAGES"})})]})})]})}},17718(e,a,t){t.d(a,{A:()=>m});var s=t(65043),n=t(10981),l=t(83796),o=t(6006),r=(t(28574),t(45071)),i=t(45685),d=t(70579);function c(e){let{onClick:a,selected:t,title:l}=e;const o=s.useContext(n.VisibilityContext);return(0,d.jsx)("div",{onClick:()=>a(o),style:{minWidth:"80px",width:"auto",paddingRight:"8px"},tabIndex:0,children:(0,d.jsx)("p",{className:t?"filterItemActive":"filterItem",style:{margin:0,whiteSpace:"nowrap"},unselectable:"on",children:l})})}const m=e=>{const[a,t]=s.useState(r.x7),[m,h]=s.useState(r.El),{dragStart:u,dragStop:g,dragMove:v,dragging:p}=((0,i.zy)(),(0,o.A)());return(0,d.jsx)("div",{className:"filterContainer",children:(0,d.jsx)("div",{className:"filterSelector",children:(0,d.jsx)("div",{style:{maxWidth:"-webkit-fill-available"},children:(0,d.jsx)(n.ScrollMenu,{scrollContainerClassName:"signUpScrollContainer",onMouseDown:()=>u,LeftArrow:l.D,RightArrow:l.U,onMouseUp:()=>g,onMouseMove:e=>{let{scrollContainer:a}=e;return e=>v(e,e=>{a.current&&(a.current.scrollLeft+=e)})},style:{width:"0px !important"},children:a.map((s,n)=>{return(0,d.jsx)(c,{itemId:s.name,title:s.name,onClick:()=>((s,n,l,o)=>{if(p)return!1;if(o.hasOwnProperty("type"))e.formats?e.setFormat(e.formats.name!==s?{name:s,endCode:o.endCode}:null):e.setFormat({name:s,endCode:o.endCode});else{if(e.docType!==s){let e=[[...a][l]];t([...e,...n])}else t(r.x7);e.setDocType(e.docType!==s?s:null),e.setFormat(null)}})(s.name,s.children,n,s),selected:(l=s,l.hasOwnProperty("type")?e.formats?l.name===e.formats.name:void 0:l.name===e.docType)},s.name);var l})})})})})}},83796(e,a,t){t.d(a,{D:()=>c,U:()=>m});var s=t(65043),n=t(87717),l=t(91700),o=t(10981),r=t(45685),i=t(70579);const d=e=>{let{children:a,disabled:t,onClick:s}=e;var n=(0,r.zy)();n.pathname,n.pathname.split("/").filter(e=>e).filter(e=>"views"!==e)[0];return(0,i.jsx)("button",{disabled:t,onClick:s,style:{cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"center",right:"1%",opacity:t?"0":"1",userSelect:"none",border:"none",backgroundColor:"#eeece0"},children:a})},c=()=>{(0,r.zy)().pathname;const{isFirstItemVisible:e,scrollPrev:a,visibleItemsWithoutSeparators:t,initComplete:l}=s.useContext(o.VisibilityContext),[c,m]=s.useState(!l||l&&e);return s.useEffect(()=>{t.length&&m(e)},[e,t]),(0,i.jsx)(d,{disabled:c,onClick:()=>a(),children:(0,i.jsx)(n.h,{style:{color:"black"}})})},m=()=>{(0,r.zy)().pathname;const{isLastItemVisible:e,scrollNext:a,visibleItemsWithoutSeparators:t}=s.useContext(o.VisibilityContext),[n,c]=s.useState(!t.length&&e);return s.useEffect(()=>{t.length&&c(e)},[e,t]),(0,i.jsx)(d,{disabled:n,onClick:()=>a(),children:(0,i.jsx)(l.h,{style:{color:"black"}})})}},93316(e,a,t){t.r(a),t.d(a,{default:()=>v});var s=t(65043),n=t(17718),l=t(85327),o=t(79456),r=t(49447),i=t(45685),d=t(8738),c=t(6395),m=t(57556),h=t(73569),u=t(69634),g=(t(5489),t(70579));const v=()=>{const{searchedImages:e,loading:a}=(0,o.d4)(e=>e.searchedImage),{continuationToken:t}=(0,o.d4)(e=>e.api),[v,p]=(0,s.useState)(!1),[f,y]=(0,s.useState)([]),[x,A]=(0,s.useState)(0),[C,b]=(0,s.useState)(null),[S,j]=(0,s.useState)(null),[k,w]=s.useState({}),E=(0,i.zy)(),I=(0,o.wA)();s.useEffect(()=>{const e=new URLSearchParams((null===E||void 0===E?void 0:E.search)||"").get("text"),a=e?decodeURIComponent(e).toLowerCase():"";a&&I((0,r.L)({method:"GET",body:{query:a,size:100}})).then(e=>{var a;const t=(null===(a=e.payload)||void 0===a?void 0:a.data)||[],s={};t.forEach(e=>{const a=e.path||e.title||"";a&&(s[a]=e.path||e.thumbnail||"")}),w(s)}).catch(e=>{w({})})},[null===E||void 0===E?void 0:E.search,I]);const T=(e,a)=>{y(a?a=>{const t=[...a];let s=t.indexOf(e);return s>-1&&t.splice(s,1),t}:a=>{const t=[...a];return t.push(e),t})};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"checkboxContainer",children:(0,g.jsx)(c.A,{image:f,handleRemove:T,handleRemoveAll:()=>{y([])},handleAddToFavourite:e=>{y(a=>{const t=[...a];let s=t.indexOf(e);var n;s>-1&&(t[s].markFav=!(null!==(n=t[s])&&void 0!==n&&n.markFav));return t})}})}),(0,g.jsxs)("div",{className:"academicsContainer",children:[(0,g.jsx)("div",{className:d.Fr?"mobGutter":"homeGutter"}),(0,g.jsxs)("div",{className:"academicsWrapper",children:[(0,g.jsx)(n.A,{formats:C,setFormat:b,docType:S,setDocType:j}),(0,g.jsx)(l.A,{openLogin:p,pageType:"result",loading:a,data:k,token:t,addedImages:f,addToNoSelectImage:T,selectedFilters:C})]}),(0,g.jsx)("div",{className:d.Fr?"mobGutter":"homeGutter"})]}),(0,g.jsx)(m.A,{className:"openModal",onClose:()=>{p(!1),A(0)},open:v,children:0===x?(0,g.jsx)(h.a,{changeTab:()=>A(0===x?1:0)}):(0,g.jsx)(u.H,{changeTab:()=>A(0===x?1:0)})})]})}}}]);
//# sourceMappingURL=316.8394dfc1.chunk.js.map